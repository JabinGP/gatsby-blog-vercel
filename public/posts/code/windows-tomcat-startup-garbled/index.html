<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.e12c7c9c885ec3ebdd07.css" data-identity="gatsby-global-css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}</style><meta name="generator" content="Gatsby 4.4.0"/><link as="script" rel="preload" href="/webpack-runtime-fe05e40fb0f9fc3dbf0e.js"/><link as="script" rel="preload" href="/framework-69325bf178eabe561408.js"/><link as="script" rel="preload" href="/app-83ce6fd2f1ccc517e165.js"/><link as="script" rel="preload" href="/46cc0ad690e07bdb83aca0e2e42f847dc2691093-5913af22e5b378b2ad63.js"/><link as="script" rel="preload" href="/component---src-pages-post-js-89ead2517795a9cdec6e.js"/><link as="fetch" rel="preload" href="/page-data/posts/code/windows-tomcat-startup-garbled/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="sc-dkPtRN kgstGl"><div class="sc-hKwDye cUWynP"><h1>Windows下使用startup.bat启动Tomcat输出乱码的原因探究、解决方案</h1><h3>2020-12-08 13:25</h3></div><div id="stylemd" class="sc-bdvvtL fnZpqS"><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:800px">
      <a class="gatsby-resp-image-link" href="/static/963b7b035ae408848a5780996b45ebcc/5a190/1.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:59.00000000000001%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB8klEQVQoz2WS227TUBBF/TO0VZs0TeL47uO7YzspaUF9QBBBQJS+8E1IlUqltk4aeAXxaRvtsV1S8bA15zZr5syM9u36Bt9v7/Cw3uK+fkS92aJu1w/rXW1Rb36I7fbU+vEn7usNbm7v8Ov3H2hBOsPYCjAyFYaU4aM3tLDfG+NwYOCgP8FBX8ce9yemrPd7utz3R7a8p+/hwMRydQltOn+NIK1AcJTPkVVnCLM53HAKlVQiPy5hujFslcLyUzhBBtNLYDiRnPMtwcsPl9DS8kwcVFwKiPsGmMOPC7kLs5lAbJUJkJbAiR0K0Ita4OoLtLhYyIEXFQiSCknxEiopxYmRKUKdIBcYQbTdmlDenUw8vHuWYVJJZhkzTGfyyI+aDCmWhHDDjSSY0ZaA9n+gOBbixH2QNl/sMmewrn67oM4+1XAlwAW89ltdDYM2QwK7QAxgeYlkZ7dgauJEz4HT+SvJoOnyKfLqXLrddLl8mgA6d3WT2jkRdDsQyyDHutt02VEZdHbLaxyYES3POBYsurUDofgbJkJQPmvsi6MR3n+8gtYN8kB3cTx2ZMj/nXkyvLwTjR3ZswEEDw0lgRh872iEN8tP0M4v3qJaXCApFm03q1YlwrSSbyuZ0wKKtYxKRGmFOJ8hbN8k01NYfoLPV1/xFwlbvbVQrc33AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="startup.bat输出乱码" title="startup.bat输出乱码" src="/static/963b7b035ae408848a5780996b45ebcc/5a190/1.png" srcSet="/static/963b7b035ae408848a5780996b45ebcc/5a46d/1.png 300w,/static/963b7b035ae408848a5780996b45ebcc/0a47e/1.png 600w,/static/963b7b035ae408848a5780996b45ebcc/5a190/1.png 800w" sizes="(max-width: 800px) 100vw, 800px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>首先找到输出日志的配置文件
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:766px">
      <a class="gatsby-resp-image-link" href="/static/2da0dfce3fca224216ed930b6487c1cb/f7616/2.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:64.99999999999999%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABkklEQVQ4y62SW2/bMAyF/f//W1+6PG1r5xVBHF8kWbYsW5Ltr6DaBEkX7GUjQEEX6vCQh4XWmt4OHBtN7xbk7JxjGAbGcSSEgLMWV5b404mlqthDYAf2fWfbtqvP80whi+ktdlrwIeG9zyAxhBzQ6h7vZ1ZjGE8VrmkRizESYroDTSlRbGvE2RODHSQltyZBplOMbUeylkUprNaZnSzruuaYWytCjHRtw8vPF6rzOTMjJZhn1r7HHo/09RnvHDFFlOqwdshAMQamacpAwlQ8A9ZdR1n+5lRVmQ1dB86xzjNKa5TRTN6zLAt1XTPPy0fZ0l/n7gHXbeP4/QevT0/8en5GfTvAMMA0sboR1XWZlTC5ACqliDHlPv4BuISAKUuOhwP67Y2kzbUfkkxUN0ZfxWrbJgN/CPOgZG0MjVLUTYsyhpBWPiNy0/u+zy6KS4nCzrkpf5YEkugOUA6z93jJJCp/PlyCpCzxi6LC7qKs3Mmo3AHK8D6y/csI/e39dl9ckG8d9rusj2N4uC++Xv6r/XfAdw8K+DSRRkjYAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="输出日志配置文件】" title="输出日志配置文件】" src="/static/2da0dfce3fca224216ed930b6487c1cb/f7616/2.png" srcSet="/static/2da0dfce3fca224216ed930b6487c1cb/5a46d/2.png 300w,/static/2da0dfce3fca224216ed930b6487c1cb/0a47e/2.png 600w,/static/2da0dfce3fca224216ed930b6487c1cb/f7616/2.png 766w" sizes="(max-width: 766px) 100vw, 766px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>打开<code>logging.properties</code>，搜索<code>log</code>，可以发现以下配置
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:800px">
      <a class="gatsby-resp-image-link" href="/static/7cdbd1dbf14d3970ae6c7566d5107804/5a190/3.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:57.00000000000001%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB1UlEQVQoz3WS6W6bQBRG/SpN5AVmgVkZNhMvdWw3/VNVfZC+v3QqhkZxKvXHp3th4HAuMyuhA5XpCO6AVj1Ktjm1GtCyQ+rIRtY8bytkYVHbii9PG563knWhedpI1ruKvp0wNrAqdESoRO+uDP7O4G90/soUvzP6OzEeMW2LtA21TVSlZStczk44NsIiVeTn/Y0mWlaiajIwmAPBHPHmgK9fiOaErw8YOyDqwFZ6hPBIYXO/+5utWKpLPar2C1DrPpv1/krnXnPdhzdae8GnERUi0jTYKi5mGeQ+9evCUqjIqtQRqdts9G4420a7XM+GZR3yqGJ+eTZ7AD3ChY6s5kZXi+H8z2bD1l1yP/pvJHchpRYbIsImZoHtf4BlBkq3GNozrb8RzZHGnrKhcxOxHrB1YKcDhfqA7OTnkTelQ5n0AUzhytj9oPWvdPFG4y+4NOGNR2mPMDFvzr9mj4ayTqzmG+W8Ma5Huy5X5TqU7fMDsm6XMUv3YPc578DFUBjms2jiiG32OSZnyh+ofI80LYUM7NQy2qa0n1MY1oVhPjGr11+/6YaJ/fmObY+4tCcNB/rpRDseCWlPtz/TjWfS8IJv5vUjaTgxHq55rZ++MrxcmE43/gDd818hAachDAAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="配置文件" title="配置文件" src="/static/7cdbd1dbf14d3970ae6c7566d5107804/5a190/3.png" srcSet="/static/7cdbd1dbf14d3970ae6c7566d5107804/5a46d/3.png 300w,/static/7cdbd1dbf14d3970ae6c7566d5107804/0a47e/3.png 600w,/static/7cdbd1dbf14d3970ae6c7566d5107804/5a190/3.png 800w" sizes="(max-width: 800px) 100vw, 800px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>再看看启动bat的cmd的属性
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:452px">
      <a class="gatsby-resp-image-link" href="/static/06c411c7f92cea76bb4e09502aad0c67/fcb94/4.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:138.33333333333334%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADdklEQVRIx51W2W7bSBDk/39N3vdhAW+AtZ3ApqWIoijJNO9LvG/qqKCbHoJ2LCcIgcZY5LCnurq6aMkOAuR5Dt/z4bou1us1/ua6XC4oyxJSEAYIghBxHMO2bRwOB3iehyRNxzVJUFUVb/5dFEUBKfB9mKaFpmmgqirSNMVqtYLv+3h6eoJpWajrmpNS0EtUkVhFiN9SVdcMmU44nU4flnM8HvkF2nM8nbg8EfOr73tItKkqS+i6jjhJeBMlPp/PvNLvpqlh2xaedR3DcOSX6TkFHTYMA+/lhFRGHCcwTZMhC4Lna55l2O92iKIDgsBHXbd8v2tb5tnzfSRJyskZIXFELziOOyWal0TlWpYF0zT44K4fxoRdx5w7jsPNmxLSA89zkRfFhwiLIodpGNCfn6HrL+j6nu8Pfc+8UjJaqXRJlCkuwc0cZd91MF505lldq1A36i/0CMSS0JiiKAjCcCbU85vmUDkURPxwPL55Jv6empLnGRaLBdZrBbbtMPn0kE5/j/azYIRlVSGJD1gpCv67ucHt3R1c12M070v63eiNCWlsigK73Y458oNgmoq2bf8Y3ZSQJIHLhUeNNOW6DjRNY3kQ0msIP01IPJEpRGHImvI8H0EQwDAMXkkWFFEUcdD+qyVTQtIPoaOXqRn0gFYauTTNWLwU5EhCwKK78y5PHJLOtlsN2nbLN8do2YGG1+Z8Vq5QAiccp+OCMIxgWxZcx+FSqUHBa4OYxysOM7+mkgkylWMY5sRVGIY4nc4TIjFB12JCyMLOMiwXCyiqyk4tLExw2Q/Dh7xd5bBtG7awKAph2TY7CyGk78vo6Caqqv4zYVPJJGDhyGVZYOg7NHWFQxQyBbSRLC7LMmRZijwflfG+ZJ5lSkQoHh8fsJBlfHtcYrHeQ93q+PfrHW5vb6EoK0arbTbYbDZQ1Q0fPu/49AkQHkgTQh8pza3w3eggWxQNXgwLq9UPbthn8pkSktZoQr4/POB5r0E1YyztFqrXYmUm+LFcoG6ad8Z7/iUxG64wWGHlZGNpUSMu2jHykTfimH1wGNj+zxegH8gbh1cuR1kROIm6Of++UtIiT18j43t0WJln2DkRbpY6vvzzFTfyFt80B45l4v7+HrL8xP8oSDQhhELM6xjZmxmmoOSmH0PeOfhfViBrJhQjgO957E67/Z4d6yexjWeku03WrwAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="cmd属性" title="cmd属性" src="/static/06c411c7f92cea76bb4e09502aad0c67/fcb94/4.png" srcSet="/static/06c411c7f92cea76bb4e09502aad0c67/5a46d/4.png 300w,/static/06c411c7f92cea76bb4e09502aad0c67/fcb94/4.png 452w" sizes="(max-width: 452px) 100vw, 452px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>很明显编码是GBK，所以乱码的原因实锤了，知道了原因就好解决了</p><ol><li>把<code>cmd</code>的编码改为<code>utf-8</code></li><li>把<code>tomcat</code>的日志输出改成<code>GBK</code></li></ol><p>由于方法<code>2</code>改配置文件比较方便，并且对其他程序没有影响，故选用<code>2</code></p><p>修改<code>logging.properties</code></p><div class="gatsby-highlight" data-language="properties"><pre class="prism-code language-properties"><div class="token-line" style="color:#000000"><span class="token plain">java.util.logging.ConsoleHandler.encoding = UTF-8</span></div></pre></div><p>改为</p><div class="gatsby-highlight" data-language="properties"><pre class="prism-code language-properties"><div class="token-line" style="color:#000000"><span class="token plain">java.util.logging.ConsoleHandler.encoding = GBK</span></div></pre></div><p>保存文件，重启bat</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:800px">
      <a class="gatsby-resp-image-link" href="/static/029511545d1f24c3618679740e4f3312/5a190/5.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:58.666666666666664%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB6ElEQVQoz02T3VLbMBCF/TQdCiWxk9iObfk/iR1DoAkUZkov+nAt01502sQhKZTh1U7nrKzAxc6xVtKnsyvZ+n7/E79+r9Fu99i0O+z+PmHdPmCz3Ymu2x3ah72M/2y28v347wVPzy/YPz4f5r7d/5B5yw1zDMcpRkGGgZ9A5TX6roLjxeiPIlHbi0W5lhqmM4zjiayl9oYh3p0M0Fxcw0rLOZJyLpO+KqHyCr4qECQTeFEhh/EgHuhHhegoSCXPAwhMykb09u4rrKTQQCaz6TnK6gJxXksuyrQTHsQYM+ISYToVsKmMBmxXYfnpDhYd0V3cgfPZQkDMMVgeN3lRLo4ZBGhgcnDpeAlWN1+Mw0YinTQo60sBcRxllSgdBclUYFQC6JYwBtvDtghQuzMOGylZZZWM6Y5qyhaNdH8JYk6XXMJ2Yw0UUAcThwTSYTHvoNqZccXNdEkg87rkUm5fO8xee8goqoWUyosxl2JCw7QSNvDiQxt4QavbzqEJuizEYfXmljXkbdnmibnd2yXsgzPGx+vPsNgnhnk29fnVwbHuZY10cna4ccbsbIVps5Q9+u3WeN9zMV9cwQpVAS/M0B8GODod4rjn4uh0JAuO+y4cl3+LgiN/j5KxzVw3HvixPJ8T28dieYP/8j268hw34sMAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="正常输出" title="正常输出" src="/static/029511545d1f24c3618679740e4f3312/5a190/5.png" srcSet="/static/029511545d1f24c3618679740e4f3312/5a46d/5.png 300w,/static/029511545d1f24c3618679740e4f3312/0a47e/5.png 600w,/static/029511545d1f24c3618679740e4f3312/5a190/5.png 800w" sizes="(max-width: 800px) 100vw, 800px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>不再乱码了，大功告成！</p></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/code/windows-tomcat-startup-garbled/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-71841f628f9c8d668040.js"],"app":["/app-83ce6fd2f1ccc517e165.js"],"component---src-pages-404-js":["/component---src-pages-404-js-46407eeca50ec9ed10bd.js"],"component---src-pages-index-js":["/component---src-pages-index-js-990038c5763b601e59d3.js"],"component---src-pages-post-js":["/component---src-pages-post-js-89ead2517795a9cdec6e.js"],"component---src-pages-search-js":[]};/*]]>*/</script><script src="/polyfill-71841f628f9c8d668040.js" nomodule=""></script><script src="/component---src-pages-post-js-89ead2517795a9cdec6e.js" async=""></script><script src="/46cc0ad690e07bdb83aca0e2e42f847dc2691093-5913af22e5b378b2ad63.js" async=""></script><script src="/app-83ce6fd2f1ccc517e165.js" async=""></script><script src="/framework-69325bf178eabe561408.js" async=""></script><script src="/webpack-runtime-fe05e40fb0f9fc3dbf0e.js" async=""></script></body></html>
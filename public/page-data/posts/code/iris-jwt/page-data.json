{
    "componentChunkName": "component---src-pages-post-js",
    "path": "/posts/code/iris-jwt",
    "result": {"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"iris的jwt实践，获取jwt、携带jwt、验证jwt、设置过期时间、自定义错误处理函数、格式化错误返回\",\n  \"date\": \"2020-12-08T13:21:30.000Z\",\n  \"categories\": [\"code\"],\n  \"tags\": [\"golang\", \"jwt\", \"iris\"],\n  \"draft\": false\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u7531\\u4E8Ejwt\\u539F\\u7406\\u5DF2\\u7ECF\\u6709\\u5F88\\u591A\\u6587\\u7AE0\\u63D0\\u53CA\\u8FC7\\u4E86\\uFF0C\\u8FD9\\u91CC\\u4E0D\\u518D\\u8D58\\u8FF0\\uFF0C\\u672C\\u6587\\u4E3B\\u8981\\u4ECB\\u7ECDjwt\\u5728iris\\u4E2D\\u7684\\u5B9E\\u8DF5\\uFF0C\\u6587\\u7AE0\\u7684\\u6700\\u540E\\u4F1A\\u7ED9\\u51FA\\u5B8C\\u6574\\u4EE3\\u7801\\uFF0C\\u53EF\\u4EE5\\u8FD0\\u884C\\u8D77\\u6765\\u8FB9\\u6D4B\\u8BD5\\u8FB9\\u770B\\u3002\\n\\u5982\\u679C\\u6587\\u7AE0\\u5BF9\\u4F60\\u6709\\u5E2E\\u52A9\\uFF0C\\u70B9\\u4E2A\\u8D5E\\u6216\\u8005\\u7559\\u4E0B\\u8BC4\\u8BBA\\u5C06\\u4F1A\\u662F\\u5BF9\\u6211\\u7684\\u6781\\u5927\\u9F13\\u52B1\\uFF01\")), mdx(\"h2\", null, \"jwt\\u4F7F\\u7528\\u65B9\\u5411\"), mdx(\"p\", null, \"\\u672C\\u6587\\u5C06jwt\\u7528\\u4E8E\\u767B\\u5F55\\u529F\\u80FD\\uFF0C\\u5982\\u679C\\u662F\\u5176\\u4ED6\\u529F\\u80FD\\u9700\\u6C42\\u5176\\u5B9E\\u4E5F\\u7C7B\\u4F3C\\uFF0C\\u53EF\\u4EE5\\u89E6\\u7C7B\\u65C1\\u901A\\u3002\"), mdx(\"h2\", null, \"iris\\u4E2Djwt\\u7684\\u4F7F\\u7528\\u601D\\u60F3\"), mdx(\"p\", null, \"iris\\u57FA\\u4E8E\\u4E2D\\u95F4\\u4EF6\\u601D\\u60F3\\u8BBE\\u8BA1\\uFF0C\\u5BF9\\u4E8E\\u4E00\\u4E9B\\u91CD\\u590D\\u6027\\u7684\\u64CD\\u4F5C\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\\u6CE8\\u518C\\u4E2D\\u95F4\\u4EF6\\u6765\\u5B8C\\u6210\\u3002\\u5BF9\\u4E8E\\u767B\\u5F55\\u529F\\u80FD\\uFF0C\\u6211\\u4EEC\\u81EA\\u7136\\u4E0D\\u5E0C\\u671B\\u6BCF\\u4E2Aapi\\u4E2D\\u624B\\u52A8\\u5224\\u65AD\\u662F\\u5426\\u8FC7\\u671F\\uFF0C\\u662F\\u5426\\u5408\\u6CD5\\u7B49\\uFF0C\\u56E0\\u4E3A\\u6211\\u4EEC\\u9700\\u8981\\u4E00\\u4E2Ajwt\\u4E2D\\u95F4\\u4EF6\\u6765\\u5B8C\\u6210\\u8FD9\\u4E9B\\u64CD\\u4F5C\\u3002\"), mdx(\"h2\", null, \"\\u83B7\\u53D6jwt\\u4E2D\\u95F4\\u4EF6\"), mdx(\"p\", null, \"\\u8FD9\\u662F\\u4E00\\u4E2Airis\\u5B98\\u65B9\\u63D0\\u4F9B\\u7684jwt\\u4E2D\\u95F4\\u4EF6\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"import \\\"github.com/iris-contrib/middleware/jwt\\\"\\n\")), mdx(\"p\", null, \"\\u7528\\u6CD5\\u5982\\u4E0B\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"j := jwt.New(jwt.Config{\\n    // Extractor\\u5C5E\\u6027\\u53EF\\u4EE5\\u9009\\u62E9\\u4ECE\\u4EC0\\u4E48\\u5730\\u65B9\\u83B7\\u53D6jwt\\u8FDB\\u884C\\u9A8C\\u8BC1\\uFF0C\\u9ED8\\u8BA4\\u4ECEhttp\\u8BF7\\u6C42\\u7684header\\u4E2D\\u7684Authorization\\u5B57\\u6BB5\\u63D0\\u53D6\\uFF0C\\u4E5F\\u53EF\\u6307\\u5B9A\\u4E3A\\u8BF7\\u6C42\\u53C2\\u6570\\u4E2D\\u7684\\u67D0\\u4E2A\\u5B57\\u6BB5\\n\\n    // \\u4ECE\\u8BF7\\u6C42\\u53C2\\u6570token\\u4E2D\\u63D0\\u53D6\\n    // Extractor: jwt.FromParameter(\\\"token\\\"),\\n\\n    // \\u4ECE\\u8BF7\\u6C42\\u5934\\u7684Authorization\\u5B57\\u6BB5\\u4E2D\\u63D0\\u53D6\\uFF0C\\u8FD9\\u4E2A\\u662F\\u9ED8\\u8BA4\\u503C\\n    Extractor: jwt.FromAuthHeader,\\n\\n    // \\u8BBE\\u7F6E\\u4E00\\u4E2A\\u51FD\\u6570\\u8FD4\\u56DE\\u79D8\\u94A5\\uFF0C\\u5173\\u952E\\u5728\\u4E8Ereturn []byte(\\\"\\u8FD9\\u91CC\\u8BBE\\u7F6E\\u79D8\\u94A5\\\")\\n    ValidationKeyGetter: func(token *jwt.Token) (interface{}, error) {\\n      return []byte(\\\"My Secret\\\"), nil\\n    },\\n\\n    // \\u8BBE\\u7F6E\\u4E00\\u4E2A\\u52A0\\u5BC6\\u65B9\\u6CD5\\n    SigningMethod: jwt.SigningMethodHS256,\\n  })\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jwt.Config\"), \"\\u4E2D\\u8FD8\\u6709\\u4E00\\u4E9B\\u53EF\\u4EE5\\u8BBE\\u7F6E\\u7684\\u53C2\\u6570\\uFF0C\\u4F46\\u662F\\u4FBF\\u4E8E\\u7406\\u89E3\\uFF0C\\u4EE5\\u4EE5\\u4E0A\\u4E09\\u4E2A\\u53C2\\u6570\\u4F5C\\u4E3A\\u6F14\\u793A\"), mdx(\"h2\", null, \"\\u4F7F\\u7528jwt\\u4E2D\\u95F4\\u4EF6\"), mdx(\"p\", null, \"\\u7531\\u4E8E\\u5E76\\u975E\\u6240\\u6709\\u63A5\\u53E3\\u90FD\\u9700\\u8981\\u8BBE\\u7F6E\\u767B\\u5F55\\u62E6\\u622A\\uFF0C\\u6240\\u4EE5\\u5C06\\u4E2D\\u95F4\\u4EF6\\u7528\\u4E8E\\u8DEF\\u7531\\uFF0C\\u6216\\u8005\\u8DEF\\u7531\\u7EC4\\u662F\\u6BD4\\u8F83\\u7B26\\u5408\\u4E1A\\u52A1\\u9700\\u6C42\\u7684\\u505A\\u6CD5\"), mdx(\"p\", null, \"\\u5148\\u7ED9\\u51FA\\u4E24\\u4E2A\\u63A5\\u53E3\\uFF1A\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\\"/getJWT\\\"\\uFF1A\\u751F\\u6210jwt\\u5E76\\u8FD4\\u56DE\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\\"/showHello\\\"\\uFF1A\\u6CA1\\u6709\\u4EFB\\u4F55\\u9650\\u5236\\uFF0C\\u8BBF\\u95EE\\u5C31\\u8F93\\u51FA\\\"Hello Iris JWT\\\"\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package main\\n\\nimport (\\n  \\\"github.com/kataras/iris/v12\\\"\\n\\n  \\\"github.com/iris-contrib/middleware/jwt\\\"\\n)\\n\\nfunc main() {\\n  app := iris.New()\\n\\n  app.Get(\\\"/getJWT\\\", func(ctx iris.Context) {\\n    // \\u5F80jwt\\u4E2D\\u5199\\u5165\\u4E86\\u4E00\\u5BF9\\u503C\\n    token := jwt.NewTokenWithClaims(jwt.SigningMethodHS256, jwt.MapClaims{\\n      \\\"foo\\\": \\\"bar\\\",\\n    })\\n\\n    // \\u7B7E\\u540D\\u751F\\u6210jwt\\u5B57\\u7B26\\u4E32\\n    tokenString, _ := token.SignedString([]byte(\\\"My Secret\\\"))\\n\\n    // \\u8FD4\\u56DE\\n    ctx.JSON(tokenString)\\n  })\\n\\n  app.Get(\\\"/showHello\\\", func(ctx iris.Context) {\\n    ctx.JSON(\\\"Hello Iris JWT\\\")\\n  })\\n\\n  app.Run(iris.Addr(\\\":8080\\\"))\\n}\\n\\n\")), mdx(\"p\", null, \"\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:8080/getJWT\"\n  }, \"http://localhost:8080/getJWT\"), \"\\u8FD4\\u56DE\\u4E00\\u4E32\\u7C7B\\u4F3C\\u8FD9\\u6837\\u7684\\u5B57\\u7B26\\u4E32\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"\\\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIifQ.4aQan-XvJBjDUDbCVnuh2P_xy54b2aRKKsgKcHUa8uw\\\"\\n\")), mdx(\"p\", null, \"\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:8080/showHello\"\n  }, \"http://localhost:8080/showHello\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"\\\"Hello Iris JWT\\\"\\n\")), mdx(\"p\", null, \"\\u73B0\\u5728\\u6211\\u4EEC\\u8981\\u5BF9\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"showHello\"), \"\\u63A5\\u53E3\\u52A0\\u4E0Ajwt\\u9A8C\\u8BC1\\uFF0C\\u9700\\u8981\\u7528\\u5230\\u4E0A\\u4E00\\u5C0F\\u8282\\u7684jwt\\u4E2D\\u95F4\\u4EF6\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package main\\n\\nimport (\\n  \\\"github.com/kataras/iris/v12\\\"\\n\\n  \\\"github.com/iris-contrib/middleware/jwt\\\"\\n)\\n\\nfunc main() {\\n  app := iris.New()\\n\\n  j := jwt.New(jwt.Config{\\n    // Extractor\\u5C5E\\u6027\\u53EF\\u4EE5\\u9009\\u62E9\\u4ECE\\u4EC0\\u4E48\\u5730\\u65B9\\u83B7\\u53D6jwt\\u8FDB\\u884C\\u9A8C\\u8BC1\\uFF0C\\u9ED8\\u8BA4\\u4ECEhttp\\u8BF7\\u6C42\\u7684header\\u4E2D\\u7684Authorization\\u5B57\\u6BB5\\u63D0\\u53D6\\uFF0C\\u4E5F\\u53EF\\u6307\\u5B9A\\u4E3A\\u8BF7\\u6C42\\u53C2\\u6570\\u4E2D\\u7684\\u67D0\\u4E2A\\u5B57\\u6BB5\\n\\n    // \\u4ECE\\u8BF7\\u6C42\\u53C2\\u6570token\\u4E2D\\u63D0\\u53D6\\n    // Extractor: jwt.FromParameter(\\\"token\\\"),\\n\\n    // \\u4ECE\\u8BF7\\u6C42\\u5934\\u7684Authorization\\u5B57\\u6BB5\\u4E2D\\u63D0\\u53D6\\uFF0C\\u8FD9\\u4E2A\\u662F\\u9ED8\\u8BA4\\u503C\\n    Extractor: jwt.FromAuthHeader,\\n\\n    // \\u8BBE\\u7F6E\\u4E00\\u4E2A\\u51FD\\u6570\\u8FD4\\u56DE\\u79D8\\u94A5\\uFF0C\\u5173\\u952E\\u5728\\u4E8Ereturn []byte(\\\"\\u8FD9\\u91CC\\u8BBE\\u7F6E\\u79D8\\u94A5\\\")\\n    ValidationKeyGetter: func(token *jwt.Token) (interface{}, error) {\\n      return []byte(\\\"My Secret\\\"), nil\\n    },\\n\\n    // \\u8BBE\\u7F6E\\u4E00\\u4E2A\\u52A0\\u5BC6\\u65B9\\u6CD5\\n    SigningMethod: jwt.SigningMethodHS256,\\n  })\\n\\n  app.Get(\\\"/getJWT\\\", func(ctx iris.Context) {\\n    // \\u5F80jwt\\u4E2D\\u5199\\u5165\\u4E86\\u4E00\\u5BF9\\u503C\\n    token := jwt.NewTokenWithClaims(jwt.SigningMethodHS256, jwt.MapClaims{\\n      \\\"foo\\\": \\\"bar\\\",\\n    })\\n\\n    // \\u4F7F\\u7528\\u8BBE\\u7F6E\\u7684\\u79D8\\u94A5\\uFF0C\\u7B7E\\u540D\\u751F\\u6210jwt\\u5B57\\u7B26\\u4E32\\n    tokenString, _ := token.SignedString([]byte(\\\"My Secret\\\"))\\n\\n    // \\u8FD4\\u56DE\\n    ctx.JSON(tokenString)\\n  })\\n\\n  // \\u6CE8\\u610F\\u8FD9\\u91CC\\u52A0\\u4E86j.Serve\\u4F5C\\u4E3A\\u8DEF\\u7531\\u7684\\u4E2D\\u95F4\\u4EF6\\n  app.Get(\\\"/showHello\\\", j.Serve, func(ctx iris.Context) {\\n    ctx.JSON(\\\"Hello Iris JWT\\\")\\n  })\\n\\n  app.Run(iris.Addr(\\\":8080\\\"))\\n}\\n\")), mdx(\"p\", null, \"\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:8080/showHello\"\n  }, \"http://localhost:8080/showHello\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"required authorization token not found\\n\")), mdx(\"p\", null, \"\\u7531\\u4E8E\\u5F00\\u542F\\u4E86jwt\\u8BA4\\u8BC1\\uFF0C\\u4F60\\u53EF\\u80FD\\u4F1A\\u60F3\\u5230\\uFF0C\\u7ED9\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Header\"), \"\\u4E2D\\u52A0\\u5165\\u4E00\\u4E2A\\u5B57\\u6BB5\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization\"), \"\\uFF0C\\u7136\\u540E\\u503C\\u4E3A\\u521A\\u521A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getJWT\"), \"\\u63A5\\u53E3\\u8FD4\\u56DE\\u7684\\u5B57\\u7B26\\u4E32\\u5C31\\u53EF\\u4EE5\\u6210\\u529F\\u901A\\u8FC7\\u8FD9\\u4E2A\\u9A8C\\u8BC1\\u4E86\\u3002\"), mdx(\"h3\", null, \"\\u6D4B\\u8BD5JWT\\u9A8C\\u8BC1\"), mdx(\"p\", null, \"\\u5728\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Postman\"), \"\\uFF08\\u6216\\u8005\\u5176\\u4ED6\\u6D4B\\u8BD5\\u5DE5\\u5177\\uFF0C\\u90FD\\u4E00\\u6837\\uFF09\\u4E2D\\u8BF7\\u6C42\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Headers\"), \"\\u4E2D\\u52A0\\u5165\\u4E00\\u5BF9\\u503C\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kEY\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"VALUE\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIifQ.4aQan-XvJBjDUDbCVnuh2P_xy54b2aRKKsgKcHUa8uw\")))), mdx(\"p\", null, \"\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:8080/showHello\"\n  }, \"http://localhost:8080/showHello\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"Authorization header format must be Bearer {token}\\n\")), mdx(\"p\", null, \"\\u53EF\\u80FD\\u4F60\\u4F1A\\u7EB3\\u95F7\\uFF0C\\u8FD9\\u4E2A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization header format must be Bearer {token}\"), \"\\u662F\\u4EC0\\u4E48\\u610F\\u601D\\uFF1F\\u6309\\u903B\\u8F91\\u6765\\u8BB2\\uFF0C\\u6211\\u4EEC\\u7684\\u505A\\u6CD5\\u5E94\\u8BE5\\u662F\\u6CA1\\u6709\\u9519\\u7684\\u3002\\u786E\\u5B9E\\uFF0C\\u5C31\\u4E24\\u6B21\\u8BF7\\u6C42\\u7684\\u53D8\\u5316\\u6765\\u770B\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Headers\"), \"\\u52A0\\u5165\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization\"), \"\\u7684\\u7684\\u786E\\u786E\\u88AB\\u8BC6\\u522B\\u5230\\u4E86\\uFF0C\\u4F46\\u662F\\u4F3C\\u4E4E\\u8FD8\\u6709\\u4E9B\\u5C0F\\u95EE\\u9898\\uFF0C\\u6839\\u636E\\u63D0\\u793A\\uFF0C\\u662F\\u683C\\u5F0F\\u4E0A\\u8FD8\\u6709\\u4E9B\\u51FA\\u5165\\u3002\"), mdx(\"p\", null, \"\\u5728\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Postman\"), \"\\uFF08\\u6216\\u8005\\u5176\\u4ED6\\u6D4B\\u8BD5\\u5DE5\\u5177\\uFF0C\\u90FD\\u4E00\\u6837\\uFF09\\u4E2D\\u8BF7\\u6C42\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Headers\"), \"\\u4E2D\\u66F4\\u6539\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization\"), \"\\u503C\\u4E3A\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kEY\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"VALUE\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIifQ.4aQan-XvJBjDUDbCVnuh2P_xy54b2aRKKsgKcHUa8uw\")))), mdx(\"p\", null, \"\\u8FD9\\u6837\\u4F3C\\u4E4E\\u7B26\\u5408\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Bearer {token}\"), \"\\u683C\\u5F0F\\u4E86\\uFF0C\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:8080/showHello\"\n  }, \"http://localhost:8080/showHello\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"Authorization header format must be Bearer {token}\\n\")), mdx(\"p\", null, \"\\u8BF4\\u660E\\u683C\\u5F0F\\u8FD8\\u662F\\u4E0D\\u5BF9\\u3002\"), mdx(\"p\", null, \"\\u7EE7\\u7EED\\u4FEE\\u6539\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Headers\")), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kEY\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"VALUE\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIifQ.4aQan-XvJBjDUDbCVnuh2P_xy54b2aRKKsgKcHUa8uw\")))), mdx(\"p\", null, \"\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:8080/showHello\"\n  }, \"http://localhost:8080/showHello\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"\\\"Hello Iris JWT\\\"\\n\")), mdx(\"p\", null, \"\\u8FD9\\u6B21\\u7EC8\\u4E8E\\u8FD4\\u56DE\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\"Hello Iris JWT\\\"\"), \"\\u4E86\\uFF0C\\u8BF4\\u5B9E\\u8BDD\\u8FD9\\u4E2A\\u683C\\u5F0F\\u8981\\u6C42\\u548C\\u8FD9\\u4E2A\\u63D0\\u793A\\u6709\\u70B9\\u5751\\u3002\"), mdx(\"h3\", null, \"JWT\\u4E2D\\u95F4\\u4EF6\\u505A\\u4E86\\u4EC0\\u4E48\"), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u770B\\u5230\\uFF0C\\u6211\\u4EEC\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/showHello\"), \"\\u63A5\\u53E3\\u7EAF\\u7CB9\\u5C31\\u662F\\u8FD4\\u56DE\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\"Hello Iris JWT\\\"\"), \"\\uFF0C\\u6CA1\\u6709\\u505A\\u4EFB\\u4F55\\u548CJWT\\u6709\\u5173\\u7684\\u64CD\\u4F5C\\uFF0C\\u4F46\\u662F\\u7531\\u4E8E\\u6211\\u4EEC\\u5728\\u8DEF\\u7531\\u4E0A\\u4F7F\\u7528\\u4E86JWT\\u4E2D\\u95F4\\u4EF6\\uFF0C\\u6211\\u4EEC\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/showHello\"), \"\\u63A5\\u53E3\\u5177\\u6709\\u4E86\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\u81EA\\u52A8JWT\\u9A8C\\u8BC1\"), \"\\u7684\\u529F\\u80FD\\uFF0C\\u8FD9\\u662FJWT\\u4E2D\\u95F4\\u4EF6\\u5728\\u6267\\u884C\\u6211\\u4EEC\\u7684\\u63A5\\u53E3\\u4EE3\\u7801\\u4E4B\\u524D\\uFF0C\\u81EA\\u52A8\\u5E2E\\u6211\\u4EEC\\u505A\\u7684\\u3002\"), mdx(\"p\", null, \"\\u4FEE\\u6539\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Headers\"), \"\\u4E2D\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization\"), \"\\u7684\\u503C\\uFF0C\\u5077\\u5077\\u628A\\u6700\\u540E\\u4E00\\u4E2A\\u5B57\\u7B26\\u6539\\u6210\\u5176\\u4ED6\\uFF0C\\u770B\\u770B\\u63A5\\u53E3\\u662F\\u5426\\u80FD\\u591F\\u9A8C\\u8BC1\\u51FA\\u963F\\u91CC\\u8FD9\\u662F\\u4E00\\u4E2A\\u5047\\u7684jwt\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kEY\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"VALUE\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\\uFF08\\u771F\\uFF09\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIifQ.4aQan-XvJBjDUDbCVnuh2P_xy54b2aRKKsgKcHUa8uw\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\\uFF08\\u5047\\uFF09\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIifQ.4aQan-XvJBjDUDbCVnuh2P_xy54b2aRKKsgKcHUa8uu\")))), mdx(\"p\", null, \"\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:8080/showHello\"\n  }, \"http://localhost:8080/showHello\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"signature is invalid\\n\")), mdx(\"p\", null, \"\\u53EF\\u89C1\\u4E0D\\u5408\\u6CD5\\u7684jwt\\u662F\\u65E0\\u6CD5\\u901A\\u8FC7\\u9A8C\\u8BC1\\u7684\\u3002\"), mdx(\"h3\", null, \"\\u83B7\\u53D6JWT\\u4E2D\\u7684\\u503C\"), mdx(\"p\", null, \"JWT\\u4E2D\\u95F4\\u4EF6\\u5728\\u9A8C\\u8BC1\\u5931\\u8D25\\u7684\\u65F6\\u5019\\uFF0C\\u63A5\\u53E3\\u4E2D\\u7684\\u4EE3\\u7801\\u4E0D\\u4F1A\\u88AB\\u6267\\u884C\\uFF0C\\u8BF7\\u6C42\\u5728JWT\\u9A8C\\u8BC1\\u7684\\u65F6\\u5019\\u5C31\\u88AB\\u54CD\\u5E94\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"signature is invalid\"), \"\\u5E76\\u7ED3\\u675F\\u3002\\n\\u800C\\u5F53JWT\\u4E2D\\u95F4\\u4EF6\\u9A8C\\u8BC1\\u6210\\u529F\\u7684\\u65F6\\u5019\\uFF0C\\u6211\\u4EEC\\u5219\\u53EF\\u4EE5\\u5728\\u63A5\\u53E3\\u4E2D\\u83B7\\u53D6\\u5230JWT\\u7684\\u4FE1\\u606F\\uFF0C\\u6211\\u4EEC\\u6DFB\\u52A0\\u4E00\\u4E2A\\u63A5\\u53E3\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/showJWT\"), \"\\uFF0C\\u6765\\u8F93\\u51FAJWT\\u7684\\u7ED3\\u6784\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"app.Get(\\\"/showJWT\\\", j.Serve, func(ctx iris.Context) {\\n  jwtInfo := ctx.Values().Get(\\\"jwt\\\").(*jwt.Token)\\n  ctx.JSON(jwtInfo)\\n})\\n\")), mdx(\"p\", null, \"\\u540C\\u6837\\u9700\\u8981\\u8BBE\\u7F6E\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Headers\"), \"\\u5E26\\u4E0Ajwt\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kEY\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"VALUE\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIifQ.4aQan-XvJBjDUDbCVnuh2P_xy54b2aRKKsgKcHUa8uw\")))), mdx(\"p\", null, \"\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:8080/showJWT\"\n  }, \"http://localhost:8080/showJWT\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n    \\\"Raw\\\": \\\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIifQ.4aQan-XvJBjDUDbCVnuh2P_xy54b2aRKKsgKcHUa8uw\\\",\\n    \\\"Method\\\": {\\n        \\\"Name\\\": \\\"HS256\\\",\\n        \\\"Hash\\\": 5\\n    },\\n    \\\"Header\\\": {\\n        \\\"alg\\\": \\\"HS256\\\",\\n        \\\"typ\\\": \\\"JWT\\\"\\n    },\\n    \\\"Claims\\\": {\\n        \\\"foo\\\": \\\"bar\\\"\\n    },\\n    \\\"Signature\\\": \\\"4aQan-XvJBjDUDbCVnuh2P_xy54b2aRKKsgKcHUa8uw\\\",\\n    \\\"Valid\\\": true\\n}\\n\")), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u770B\\u5230\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Claims\"), \"\\u91CC\\u9762\\u5C31\\u6709\\u6211\\u4EEC\\u7B7E\\u53D1jwt\\u7684\\u65F6\\u5019\\u5199\\u5165\\u7684\\u6570\\u636E\\u4E86\\uFF0C\\u5982\\u679C\\u60F3\\u8981\\u5728\\u63A5\\u53E3\\u4E2D\\u62FF\\u5230\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"app.Get(\\\"/showJWTFoo\\\", j.Serve, func(ctx iris.Context) {\\n  jwtInfo := ctx.Values().Get(\\\"jwt\\\").(*jwt.Token)\\n  foo := jwtInfo.Claims.(jwt.MapClaims)[\\\"foo\\\"].(string)\\n  ctx.JSON(foo)\\n})\\n\")), mdx(\"p\", null, \"\\u8BBE\\u7F6E\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Headers\"), \"\\u5E26\\u4E0Ajwt\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kEY\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"VALUE\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIifQ.4aQan-XvJBjDUDbCVnuh2P_xy54b2aRKKsgKcHUa8uw\")))), mdx(\"p\", null, \"\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:8080/showJWTFoo\"\n  }, \"http://localhost:8080/showJWTFoo\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"\\\"bar\\\"\\n\")), mdx(\"h3\", null, \"\\u8BBE\\u7F6E\\u8FC7\\u671F\\u65F6\\u95F4\"), mdx(\"p\", null, \"\\u7531\\u4E8Ejwt\\u7B7E\\u53D1\\u51FA\\u53BB\\u4E4B\\u540E\\uFF0C\\u540E\\u7AEF\\u5E76\\u4E0D\\u5B58\\u50A8\\uFF0C\\u6240\\u4EE5\\u76F8\\u5F53\\u4E8E\\u540E\\u7AEF\\u5E76\\u4E0D\\u80FD\\u7BA1\\u7406\\u7B7E\\u53D1\\u51FA\\u53BB\\u7684jwt\\uFF0C\\u8FD9\\u79CD\\u60C5\\u51B5\\u4E0B\\u540E\\u7AEF\\u81EA\\u7136\\u4E0D\\u80FD\\u8BA9\\u7B7E\\u53D1\\u51FA\\u53BB\\u7684jwt\\u6C38\\u4E45\\u6709\\u6548\\uFF0C\\u9700\\u8981\\u6839\\u636E\\u9700\\u6C42\\u8BBE\\u7F6E\\u4E00\\u4E2A\\u8FC7\\u671F\\u65F6\\u95F4\\u3002\"), mdx(\"p\", null, \"\\u65B0\\u589E\\u4E00\\u4E2A\\u83B7\\u53D6JWT\\u7684\\u63A5\\u53E3\\uFF0C\\u8FD9\\u6B21\\u5728\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Claims\"), \"\\u4E2D\\u5199\\u5165\\u66F4\\u591A\\u7684\\u6570\\u636E\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"app.Get(\\\"/getJWTWithExp\\\", func(ctx iris.Context) {\\n  token := jwt.NewTokenWithClaims(jwt.SigningMethodHS256, jwt.MapClaims{\\n    // \\u6839\\u636E\\u9700\\u6C42\\uFF0C\\u53EF\\u4EE5\\u5B58\\u4E00\\u4E9B\\u5FC5\\u8981\\u7684\\u6570\\u636E\\n    \\\"userName\\\": \\\"JabinGP\\\",\\n    \\\"userId\\\":   \\\"1\\\",\\n    \\\"admin\\\":    true,\\n\\n    // \\u7B7E\\u53D1\\u4EBA\\n    \\\"iss\\\": \\\"iris\\\",\\n    // \\u7B7E\\u53D1\\u65F6\\u95F4\\n    \\\"iat\\\": time.Now().Unix(),\\n    // \\u8BBE\\u5B9A\\u8FC7\\u671F\\u65F6\\u95F4\\uFF0C\\u4FBF\\u4E8E\\u6D4B\\u8BD5\\uFF0C\\u8BBE\\u7F6E1\\u5206\\u949F\\u8FC7\\u671F\\n    \\\"exp\\\": time.Now().Add(1 * time.Minute * time.Duration(1)).Unix(),\\n  })\\n\\n  // \\u4F7F\\u7528\\u8BBE\\u7F6E\\u7684\\u79D8\\u94A5\\uFF0C\\u7B7E\\u540D\\u751F\\u6210jwt\\u5B57\\u7B26\\u4E32\\n  tokenString, _ := token.SignedString([]byte(\\\"My Secret\\\"))\\n\\n  // \\u8FD4\\u56DE\\n  ctx.JSON(tokenString)\\n})\\n\")), mdx(\"p\", null, \"\\u8BF7\\u6C42\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:8080/getJWTWithExp\"\n  }, \"http://localhost:8080/getJWTWithExp\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"\\\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiZXhwIjoxNTc1Mzc5OTk0LCJpYXQiOjE1NzUzNzk5MzQsImlzcyI6ImlyaXMiLCJ1c2VySWQiOiIxIiwidXNlck5hbWUiOiJKYWJpbkdQIn0.AMFZNbtERLHzKAR9z7oF_0QeNoARKr4dkjocNbVsWgg\\\"\\n\")), mdx(\"p\", null, \"\\u8BBE\\u7F6E\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Headers\"), \"\\u5E26\\u4E0A\\u65B0\\u7684jwt\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kEY\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"VALUE\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiZXhwIjoxNTc1Mzc5OTk0LCJpYXQiOjE1NzUzNzk5MzQsImlzcyI6ImlyaXMiLCJ1c2VySWQiOiIxIiwidXNlck5hbWUiOiJKYWJpbkdQIn0.AMFZNbtERLHzKAR9z7oF_0QeNoARKr4dkjocNbVsWgg\")))), mdx(\"p\", null, \"\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"localhost:8080/showJWT\"\n  }, \"localhost:8080/showJWT\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n    \\\"Raw\\\": \\\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiZXhwIjoxNTc1Mzc5OTk0LCJpYXQiOjE1NzUzNzk5MzQsImlzcyI6ImlyaXMiLCJ1c2VySWQiOiIxIiwidXNlck5hbWUiOiJKYWJpbkdQIn0.AMFZNbtERLHzKAR9z7oF_0QeNoARKr4dkjocNbVsWgg\\\",\\n    \\\"Method\\\": {\\n        \\\"Name\\\": \\\"HS256\\\",\\n        \\\"Hash\\\": 5\\n    },\\n    \\\"Header\\\": {\\n        \\\"alg\\\": \\\"HS256\\\",\\n        \\\"typ\\\": \\\"JWT\\\"\\n    },\\n    \\\"Claims\\\": {\\n        \\\"admin\\\": true,\\n        \\\"exp\\\": 1575379994,\\n        \\\"iat\\\": 1575379934,\\n        \\\"iss\\\": \\\"iris\\\",\\n        \\\"userId\\\": \\\"1\\\",\\n        \\\"userName\\\": \\\"JabinGP\\\"\\n    },\\n    \\\"Signature\\\": \\\"AMFZNbtERLHzKAR9z7oF_0QeNoARKr4dkjocNbVsWgg\\\",\\n    \\\"Valid\\\": true\\n}\\n\")), mdx(\"p\", null, \"\\u9694\\u4E00\\u5206\\u949F\\u540E\\uFF0C\\u518D\\u6B21\\u8BF7\\u6C42\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"localhost:8080/showJWT\"\n  }, \"localhost:8080/showJWT\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"Token is expired\\n\")), mdx(\"p\", null, \"\\u8BF4\\u660E\\u8FC7\\u671F\\u65F6\\u95F4\\u8BBE\\u7F6E\\u751F\\u6548\\u3002\"), mdx(\"h3\", null, \"\\u8BBE\\u7F6E\\u9519\\u8BEF\\u8FD4\\u56DE\\u683C\\u5F0F\"), mdx(\"p\", null, \"\\u7531\\u4E8EJWT\\u4E2D\\u95F4\\u4EF6\\u5728\\u68C0\\u9A8Cjwt\\u53D1\\u73B0\\u4E0D\\u5408\\u6CD5\\u65F6\\uFF0C\\u4F1A\\u81EA\\u52A8\\u54CD\\u5E94\\u8FD4\\u56DE\\u9519\\u8BEF\\u4FE1\\u606F\\u5E76\\u7ED3\\u675F\\u8BF7\\u6C42\\uFF0C\\u5982\\u4E0A\\u6240\\u793A\\uFF0C\\u9519\\u8BEF\\u90FD\\u662F\\u4E00\\u53E5\\u8BDD\\uFF0C\\u8FD9\\u6837\\u7684\\u9519\\u8BEF\\u5BF9\\u4E8E\\u524D\\u7AEF\\u6765\\u8BF4\\u975E\\u5E38\\u4E0D\\u53CB\\u597D\\uFF0C\\u524D\\u7AEF\\u66F4\\u5E0C\\u671B\\u80FD\\u901A\\u8FC7\\u4E00\\u4E2A\\u72B6\\u6001\\u7801\\u6765\\u5224\\u65AD\\u8BF7\\u6C42\\u662F\\u5426\\u987A\\u5229\\u3002\"), mdx(\"p\", null, \"\\u9996\\u5148\\u5B9A\\u4E49\\u4E00\\u4E2A\\u54CD\\u5E94\\u6570\\u636E\\u7684\\u6A21\\u677F\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"// ResModel \\u8FD4\\u56DE\\u6570\\u636E\\u6A21\\u677F\\ntype ResModel struct {\\n  Code string      `json:\\\"code\\\"`\\n  Msg  string      `json:\\\"msg\\\"`\\n  Data interface{} `json:\\\"data\\\"`\\n}\\n\")), mdx(\"p\", null, \"\\u83B7\\u53D6\\u4E00\\u4E2A\\u65B0\\u7684\\u4E2D\\u95F4\\u4EF6\\uFF0C\\u4E0E\\u4E4B\\u524D\\u4E0D\\u540C\\u7684\\u662F\\u81EA\\u5B9A\\u4E49\\u4E86\\u9519\\u8BEF\\u5904\\u7406\\u51FD\\u6570\\uFF08\\u6252\\u4E86\\u6E90\\u7801\\u6539\\u7684\\uFF09:\"), mdx(\"p\", null, \"\\u6CE8\\u610F\\u5F15\\u5165\\u7684context\\u662Firis\\u5305\\u4E0B\\u7684\\uFF0C\\u5426\\u5219\\u65E0\\u6CD5\\u7B26\\u5408\\u9519\\u8BEF\\u5904\\u7406\\u51FD\\u6570\\u7684\\u5B9A\\u4E49\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"import \\\"github.com/kataras/iris/v12/context\\\"\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"// j2 \\u5BF9\\u6BD4 j \\u6DFB\\u52A0\\u4E86\\u9519\\u8BEF\\u5904\\u7406\\u51FD\\u6570\\nj2 := jwt.New(jwt.Config{\\n  // \\u6CE8\\u610F\\uFF0C\\u65B0\\u589E\\u4E86\\u4E00\\u4E2A\\u9519\\u8BEF\\u5904\\u7406\\u51FD\\u6570\\n  ErrorHandler: func(ctx context.Context, err error) {\\n    if err == nil {\\n      return\\n    }\\n\\n    ctx.StopExecution()\\n    ctx.StatusCode(iris.StatusUnauthorized)\\n    ctx.JSON(ResModel{\\n      Code: \\\"501\\\",\\n      Msg:  err.Error(),\\n    })\\n  },\\n  // \\u8BBE\\u7F6E\\u4E00\\u4E2A\\u51FD\\u6570\\u8FD4\\u56DE\\u79D8\\u94A5\\uFF0C\\u5173\\u952E\\u5728\\u4E8Ereturn []byte(\\\"\\u8FD9\\u91CC\\u8BBE\\u7F6E\\u79D8\\u94A5\\\")\\n  ValidationKeyGetter: func(token *jwt.Token) (interface{}, error) {\\n    return []byte(\\\"My Secret\\\"), nil\\n  },\\n\\n  // \\u8BBE\\u7F6E\\u4E00\\u4E2A\\u52A0\\u5BC6\\u65B9\\u6CD5\\n  SigningMethod: jwt.SigningMethodHS256,\\n})\\n\")), mdx(\"p\", null, \"\\u5728\\u4E00\\u4E2A\\u65B0\\u7684\\u63A5\\u53E3\\u4E0A\\u5E94\\u7528\\u65B0\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"j2\"), \"\\u4E2D\\u95F4\\u4EF6\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"app.Get(\\\"/showJWTErrWithFormat\\\", j2.Serve, func(ctx iris.Context) {\\n  jwtInfo := ctx.Values().Get(\\\"jwt\\\").(*jwt.Token)\\n  ctx.JSON(jwtInfo)\\n})\\n\")), mdx(\"p\", null, \"\\u8BBE\\u7F6E\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Headers\"), \"\\u5E26\\u4E0A\\u4E00\\u4E2A\\u8FC7\\u671F\\u7684jwt\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kEY\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"VALUE\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiZXhwIjoxNTc1Mzc5OTk0LCJpYXQiOjE1NzUzNzk5MzQsImlzcyI6ImlyaXMiLCJ1c2VySWQiOiIxIiwidXNlck5hbWUiOiJKYWJpbkdQIn0.AMFZNbtERLHzKAR9z7oF_0QeNoARKr4dkjocNbVsWgg\")))), mdx(\"p\", null, \"\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"localhost:8080/showJWT\"\n  }, \"localhost:8080/showJWT\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n    \\\"code\\\": \\\"501\\\",\\n    \\\"msg\\\": \\\"Token is expired\\\",\\n    \\\"data\\\": null\\n}\\n\")), mdx(\"p\", null, \"\\u7BE1\\u6539\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Headers\"), \"\\u4E2D\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Authorization\"), \"\\u7684\\u503C\\uFF0C\\u628A\\u6700\\u540E\\u4E00\\u4E2A\\u5B57\\u7B26\\u6539\\u6210\\u5176\\u4ED6\\u7684\\uFF1A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"g\"), \"->\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"o\")), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"kEY\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"VALUE\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Authorization\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiZXhwIjoxNTc1Mzc5OTk0LCJpYXQiOjE1NzUzNzk5MzQsImlzcyI6ImlyaXMiLCJ1c2VySWQiOiIxIiwidXNlck5hbWUiOiJKYWJpbkdQIn0.AMFZNbtERLHzKAR9z7oF_0QeNoARKr4dkjocNbVsWgo\")))), mdx(\"p\", null, \"\\u8BBF\\u95EE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"localhost:8080/showJWT\"\n  }, \"localhost:8080/showJWT\"), \"\\u8FD4\\u56DE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n    \\\"code\\\": \\\"501\\\",\\n    \\\"msg\\\": \\\"signature is invalid\\\",\\n    \\\"data\\\": null\\n}\\n\")), mdx(\"p\", null, \"\\u81F3\\u6B64\\uFF0Cjwt\\u57FA\\u672C\\u7B26\\u5408\\u4F7F\\u7528\\u9700\\u6C42\\u4E86\\uFF0C\\u6700\\u540E\\u9644\\u4E0A\\u5B8C\\u6574\\u7684\\u4EE3\\u7801\\u3002\"), mdx(\"h2\", null, \"\\u5B8C\\u6574\\u4EE3\\u7801\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u5982\\u679C\\u6587\\u7AE0\\u5BF9\\u4F60\\u6709\\u5E2E\\u52A9\\uFF0C\\u70B9\\u4E2A\\u8D5E\\u6216\\u8005\\u7559\\u4E0B\\u8BC4\\u8BBA\\u5C06\\u4F1A\\u662F\\u5BF9\\u6211\\u7684\\u6781\\u5927\\u9F13\\u52B1\\uFF01\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package main\\n\\nimport (\\n  \\\"time\\\"\\n\\n  \\\"github.com/kataras/iris/v12\\\"\\n\\n  \\\"github.com/iris-contrib/middleware/jwt\\\"\\n  \\\"github.com/kataras/iris/v12/context\\\"\\n)\\n\\n// ResModel \\u8FD4\\u56DE\\u6570\\u636E\\u6A21\\u677F\\ntype ResModel struct {\\n  Code string      `json:\\\"code\\\"`\\n  Msg  string      `json:\\\"msg\\\"`\\n  Data interface{} `json:\\\"data\\\"`\\n}\\n\\nfunc main() {\\n  app := iris.New()\\n\\n  j := jwt.New(jwt.Config{\\n    // Extractor\\u5C5E\\u6027\\u53EF\\u4EE5\\u9009\\u62E9\\u4ECE\\u4EC0\\u4E48\\u5730\\u65B9\\u83B7\\u53D6jwt\\u8FDB\\u884C\\u9A8C\\u8BC1\\uFF0C\\u9ED8\\u8BA4\\u4ECEhttp\\u8BF7\\u6C42\\u7684header\\u4E2D\\u7684Authorization\\u5B57\\u6BB5\\u63D0\\u53D6\\uFF0C\\u4E5F\\u53EF\\u6307\\u5B9A\\u4E3A\\u8BF7\\u6C42\\u53C2\\u6570\\u4E2D\\u7684\\u67D0\\u4E2A\\u5B57\\u6BB5\\n\\n    // \\u4ECE\\u8BF7\\u6C42\\u53C2\\u6570token\\u4E2D\\u63D0\\u53D6\\n    // Extractor: jwt.FromParameter(\\\"token\\\"),\\n\\n    // \\u4ECE\\u8BF7\\u6C42\\u5934\\u7684Authorization\\u5B57\\u6BB5\\u4E2D\\u63D0\\u53D6\\uFF0C\\u8FD9\\u4E2A\\u662F\\u9ED8\\u8BA4\\u503C\\n    Extractor: jwt.FromAuthHeader,\\n\\n    // \\u8BBE\\u7F6E\\u4E00\\u4E2A\\u51FD\\u6570\\u8FD4\\u56DE\\u79D8\\u94A5\\uFF0C\\u5173\\u952E\\u5728\\u4E8Ereturn []byte(\\\"\\u8FD9\\u91CC\\u8BBE\\u7F6E\\u79D8\\u94A5\\\")\\n    ValidationKeyGetter: func(token *jwt.Token) (interface{}, error) {\\n      return []byte(\\\"My Secret\\\"), nil\\n    },\\n\\n    // \\u8BBE\\u7F6E\\u4E00\\u4E2A\\u52A0\\u5BC6\\u65B9\\u6CD5\\n    SigningMethod: jwt.SigningMethodHS256,\\n  })\\n\\n  // j2 \\u5BF9\\u6BD4 j \\u6DFB\\u52A0\\u4E86\\u9519\\u8BEF\\u5904\\u7406\\u51FD\\u6570\\n  j2 := jwt.New(jwt.Config{\\n    // \\u6CE8\\u610F\\uFF0C\\u65B0\\u589E\\u4E86\\u4E00\\u4E2A\\u9519\\u8BEF\\u5904\\u7406\\u51FD\\u6570\\n    ErrorHandler: func(ctx context.Context, err error) {\\n      if err == nil {\\n        return\\n      }\\n\\n      ctx.StopExecution()\\n      ctx.StatusCode(iris.StatusUnauthorized)\\n      ctx.JSON(ResModel{\\n        Code: \\\"501\\\",\\n        Msg:  err.Error(),\\n      })\\n    },\\n    // \\u8BBE\\u7F6E\\u4E00\\u4E2A\\u51FD\\u6570\\u8FD4\\u56DE\\u79D8\\u94A5\\uFF0C\\u5173\\u952E\\u5728\\u4E8Ereturn []byte(\\\"\\u8FD9\\u91CC\\u8BBE\\u7F6E\\u79D8\\u94A5\\\")\\n    ValidationKeyGetter: func(token *jwt.Token) (interface{}, error) {\\n      return []byte(\\\"My Secret\\\"), nil\\n    },\\n\\n    // \\u8BBE\\u7F6E\\u4E00\\u4E2A\\u52A0\\u5BC6\\u65B9\\u6CD5\\n    SigningMethod: jwt.SigningMethodHS256,\\n  })\\n\\n  app.Get(\\\"/getJWT\\\", func(ctx iris.Context) {\\n    // \\u5F80jwt\\u4E2D\\u5199\\u5165\\u4E86\\u4E00\\u5BF9\\u503C\\n    token := jwt.NewTokenWithClaims(jwt.SigningMethodHS256, jwt.MapClaims{\\n      \\\"foo\\\": \\\"bar\\\",\\n    })\\n\\n    // \\u4F7F\\u7528\\u8BBE\\u7F6E\\u7684\\u79D8\\u94A5\\uFF0C\\u7B7E\\u540D\\u751F\\u6210jwt\\u5B57\\u7B26\\u4E32\\n    tokenString, _ := token.SignedString([]byte(\\\"My Secret\\\"))\\n\\n    // \\u8FD4\\u56DE\\n    ctx.JSON(tokenString)\\n  })\\n  app.Get(\\\"/getJWTWithExp\\\", func(ctx iris.Context) {\\n    token := jwt.NewTokenWithClaims(jwt.SigningMethodHS256, jwt.MapClaims{\\n      // \\u6839\\u636E\\u9700\\u6C42\\uFF0C\\u53EF\\u4EE5\\u5B58\\u4E00\\u4E9B\\u5FC5\\u8981\\u7684\\u6570\\u636E\\n      \\\"userName\\\": \\\"JabinGP\\\",\\n      \\\"userId\\\":   \\\"1\\\",\\n      \\\"admin\\\":    true,\\n\\n      // \\u7B7E\\u53D1\\u4EBA\\n      \\\"iss\\\": \\\"iris\\\",\\n      // \\u7B7E\\u53D1\\u65F6\\u95F4\\n      \\\"iat\\\": time.Now().Unix(),\\n      // \\u8BBE\\u5B9A\\u8FC7\\u671F\\u65F6\\u95F4\\uFF0C\\u4FBF\\u4E8E\\u6D4B\\u8BD5\\uFF0C\\u8BBE\\u7F6E1\\u5206\\u949F\\u8FC7\\u671F\\n      \\\"exp\\\": time.Now().Add(1 * time.Minute * time.Duration(1)).Unix(),\\n    })\\n\\n    // \\u4F7F\\u7528\\u8BBE\\u7F6E\\u7684\\u79D8\\u94A5\\uFF0C\\u7B7E\\u540D\\u751F\\u6210jwt\\u5B57\\u7B26\\u4E32\\n    tokenString, _ := token.SignedString([]byte(\\\"My Secret\\\"))\\n\\n    // \\u8FD4\\u56DE\\n    ctx.JSON(tokenString)\\n  })\\n\\n  app.Get(\\\"/showHello\\\", j.Serve, func(ctx iris.Context) {\\n    ctx.JSON(\\\"Hello Iris JWT\\\")\\n  })\\n\\n  app.Get(\\\"/showJWT\\\", j.Serve, func(ctx iris.Context) {\\n    jwtInfo := ctx.Values().Get(\\\"jwt\\\").(*jwt.Token)\\n    ctx.JSON(jwtInfo)\\n  })\\n\\n  app.Get(\\\"/showJWTFoo\\\", j.Serve, func(ctx iris.Context) {\\n    jwtInfo := ctx.Values().Get(\\\"jwt\\\").(*jwt.Token)\\n    foo := jwtInfo.Claims.(jwt.MapClaims)[\\\"foo\\\"].(string)\\n    ctx.JSON(foo)\\n  })\\n\\n  app.Get(\\\"/showJWTErrWithFormat\\\", j2.Serve, func(ctx iris.Context) {\\n    jwtInfo := ctx.Values().Get(\\\"jwt\\\").(*jwt.Token)\\n    ctx.JSON(jwtInfo)\\n  })\\n\\n  app.Run(iris.Addr(\\\":8080\\\"))\\n}\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"categories":["code"],"date":"2020-12-08 13:21","draft":false,"tags":["golang","jwt","iris"],"title":"iris的jwt实践，获取jwt、携带jwt、验证jwt、设置过期时间、自定义错误处理函数、格式化错误返回"}}},"pageContext":{"id":"1c0aa2e2-f864-5668-a722-0c0f11c39c37"}},
    "staticQueryHashes": []}
{
    "componentChunkName": "component---src-pages-post-js",
    "path": "/posts/code/mini-program-network",
    "result": {"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"小程序异步网络请求问题的解决方案\",\n  \"date\": \"2020-12-08T07:38:11.000Z\",\n  \"categories\": [\"code\"],\n  \"tags\": [\"javascript\", \"小程序\"],\n  \"draft\": false\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h3\", null, \"\\u4E1A\\u52A1\\u903B\\u8F91\"), mdx(\"p\", null, \"\\u6700\\u8FD1\\u5F00\\u53D1\\u4E00\\u4E2A\\u4FBF\\u7B7E\\u5C0F\\u7A0B\\u5E8F\\u7684\\u65F6\\u5019\\uFF0C\\u6709\\u8FD9\\u6837\\u4E00\\u4E2A\\u9700\\u6C42\\uFF1A\\u7528\\u6237\\u53EF\\u4EE5\\u5728\\u5199\\u4FBF\\u7B7E\\u7684\\u65F6\\u5019\\u6DFB\\u52A0\\u4E00\\u4E2A\\u6216\\u591A\\u4E2A\\u56FE\\u7247\\u3002\"), mdx(\"p\", null, \"\\u5BF9\\u4E8E\\u8FD9\\u4E2A\\u9700\\u6C42\\uFF0C\\u6211\\u4EEC\\u7528\\u6237\\u6309\\u4E0B\\u4FDD\\u5B58\\u952E\\u65F6\\uFF0C\\u5185\\u90E8\\u5177\\u4F53\\u7684\\u5B9E\\u73B0\\u4E0A\\u662F\\u8FD9\\u6837\\u7684\\u903B\\u8F91\\uFF1A\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u9996\\u5148\\u68C0\\u6D4B\\u7528\\u6237\\u662F\\u5426\\u4F20\\u5165\\u4E86\\u56FE\\u7247\\uFF0C\\u5982\\u679C\\u5B58\\u50A8\\u672C\\u5730\\u56FE\\u7247\\u5730\\u5740\\u7684\\u6570\\u7EC4\\u957F\\u5EA6>=1,\\u5219\\u5C06\\u56FE\\u7247\\u6570\\u7EC4\\u653E\\u5165\\u4E0A\\u4F20\\u56FE\\u7247\\u7684\\u51FD\\u6570\\u3002\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u7531\\u4E8E\\u5C0F\\u7A0B\\u5E8F\\u7F51\\u7EDC\\u8BF7\\u6C42\\u5927\\u5C0F\\u9650\\u5236\\uFF0C\\u6211\\u4EEC\\u53EA\\u80FD\\u91C7\\u53D6\\u5FAA\\u73AF\\u4E0A\\u4F20\\u5355\\u6587\\u4EF6\\uFF0C\\u7136\\u540E\\u6536\\u96C6\\u6BCF\\u6B21\\u8BF7\\u6C42\\u7684\\u7ED3\\u679C--\\u56FE\\u7247\\u5728\\u670D\\u52A1\\u5668\\u7684\\u5730\\u5740\\uFF0C\\u6700\\u540E\\u5C06\\u7ED3\\u679C\\u653E\\u5728\\u4E00\\u4E2A\\u6570\\u7EC4\\u4E2D\\u4F9B\\u540E\\u7EED\\u7684\\u64CD\\u4F5C\\u4F7F\\u7528\\u3002\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u5F53\\u56FE\\u7247\\u4E0A\\u4F20\\u51FD\\u6570\\u5168\\u90E8\\u6267\\u884C\\u5B8C\\u6BD5\\u540E\\uFF0C\\u5C06\\u6570\\u7EC4\\u4E2D\\u7684\\u56FE\\u7247\\u6570\\u7EC4\\u53D6\\u51FA\\u6765\\uFF0C\\u8D4B\\u503C\\u5230\\u65E5\\u8BB0\\u5BF9\\u8C61\\u4E2D\\uFF0C\\u518D\\u5C06\\u6574\\u4E2A\\u65E5\\u8BB0\\u5BF9\\u8C61\\u63D0\\u4EA4\\u5230\\u670D\\u52A1\\u5668\\u3002\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u670D\\u52A1\\u5668\\u8FD4\\u56DE\\u4FDD\\u5B58\\u6210\\u529F\\u6216\\u5931\\u8D25\\u3002\"))), mdx(\"p\", null, \"\\u601D\\u8DEF\\u5176\\u5B9E\\u975E\\u5E38\\u6E05\\u6670\\u7B80\\u5355\\uFF0C\\u4F46\\u662F\\u5728\\u4EE3\\u7801\\u5B9E\\u73B0\\u4E0A\\u5374\\u7FFB\\u4E86\\u5927\\u8DDF\\u5934\\u3002\"), mdx(\"h3\", null, \"\\u5F02\\u6B65\\u5E26\\u6765\\u7684\\u95EE\\u9898\"), mdx(\"p\", null, \"\\u5C0F\\u7A0B\\u5E8F\\u7684\\u7F51\\u7EDC\\u8BF7\\u6C42\\u662F\\u5F02\\u6B65\\u7684\\uFF1A\\u6211\\u4EEC\\u65E0\\u6CD5\\u901A\\u8FC7return\\u6765\\u5C06\\u7F51\\u7EDC\\u8BF7\\u6C42\\u7ED3\\u679C\\u8FD4\\u56DE\\u51FA\\u6765\\u4F7F\\u7528\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"\\n    wx.request({\\n\\n          //...\\u7701\\u7565\\u5176\\u4ED6\\u5C5E\\u6027\\n\\n          success: function (res) {\\n\\n          },\\n\\n          fail: function (res) {\\n\\n          }\\n\\n    })\\n\\n\")), mdx(\"p\", null, \"\\u4F8B\\u5982\\u5728\\u5FAE\\u4FE1\\u4E2D\\u53D1\\u9001\\u7F51\\u7EDC\\u8BF7\\u6C42\\uFF0C\\u6211\\u4EEC\\u53EA\\u80FD\\u4F7F\\u7528\\u5FAE\\u4FE1\\u63D0\\u4F9B\\u7684\\u65B9\\u6CD5wx.xxx\\uFF0C\\u5176\\u4E2D\\u8BF7\\u6C42\\u7684\\u7ED3\\u679C\\u4FDD\\u5B58\\u5728res\\u4E2D\\uFF0C\\u800Cres\\u65E0\\u6CD5\\u76F4\\u63A5return\\u5F97\\u5230\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u89E3\\u51B3\\uFF1A\"), \"res\\u867D\\u7136\\u65E0\\u6CD5\\u76F4\\u63A5\\u83B7\\u53D6\\uFF0C\\u4F46\\u662F\\u6211\\u4EEC\\u80FD\\u901A\\u8FC7\\u5C06\\u9700\\u8981\\u4F7F\\u7528\\u5230\\u8FD9\\u4E2A\\u8BF7\\u6C42\\u7ED3\\u679C\\u7684\\u4E1A\\u52A1\\u903B\\u8F91\\u4EE3\\u7801\\u653E\\u5165\\u8FD9\\u4E2A\\u7F51\\u7EDC\\u8BF7\\u6C42\\u7684\\u56DE\\u8C03\\u51FD\\u6570\\u4E2D\\u76F4\\u63A5\\u8BFB\\u53D6\\u7F51\\u7EDC\\u8BF7\\u6C42\\u7ED3\\u679C\\uFF0C\\u4E5F\\u5C31\\u662F\\u4E00\\u5207\\u90FD\\u9700\\u8981\\u901A\\u8FC7\\u56DE\\u8C03\\u6765\\u89E3\\u51B3\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"\\n    wx.request({\\n\\n          //...\\u7701\\u7565\\u5176\\u4ED6\\u5C5E\\u6027\\n\\n          success: function (res) {\\n\\n            console.log(res);\\n\\n            //\\u63A5\\u4E1A\\u52A1\\u903B\\u8F91\\u4EE3\\u7801\\n\\n          },\\n\\n          fail: function (res) {\\n\\n            console.log(res);\\n\\n          }\\n\\n    })\\n\")), mdx(\"p\", null, \"\\u4F8B\\u5982\\u8FD9\\u4E2A\\u5FAE\\u4FE1\\u7684\\u7F51\\u7EDC\\u8BF7\\u6C42\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7success\\u548Cfail\\u7684\\u56DE\\u8C03\\u51FD\\u6570\\u6765\\u8BFB\\u53D6res\\u7684\\u503C\\u4ECE\\u800C\\u5B8C\\u6210\\u4F9D\\u8D56res\\u7ED3\\u679C\\u7684\\u4E1A\\u52A1\\u903B\\u8F91\\u3002\"), mdx(\"h4\", null, \"\\u56DE\\u8C03\\u5730\\u72F1\"), mdx(\"p\", null, \"\\u867D\\u7136\\u89E3\\u51B3\\u4E86\\u7ED3\\u679C\\u83B7\\u53D6\\u7684\\u95EE\\u9898\\uFF0C\\u4F46\\u662F\\u53C8\\u4EA7\\u751F\\u4E86\\u53E6\\u4E00\\u4E2A\\u95EE\\u9898\\uFF0C\\u5F53\\u591A\\u4E2A\\u8BF7\\u6C42\\u4E2D\\u6709\\u660E\\u786E\\u7684\\u5148\\u540E\\u987A\\u5E8F\\u65F6\\uFF0C\\u56DE\\u8C03\\u4F1A\\u5D4C\\u5957\\u7684\\u5F88\\u5389\\u5BB3\\uFF0C\\u9020\\u6210\\u56DE\\u8C03\\u5730\\u72F1\\uFF0C\\u4EE3\\u7801\\u53EF\\u8BFB\\u6027\\u548C\\u53EF\\u7EF4\\u62A4\\u6027\\u90FD\\u4F1A\\u5F88\\u5DEE\\u3002\\n\\u4F8B\\u5982\\u5BF9\\u4E8E\\u4E00\\u4E2A\\u65E5\\u8BB0\\u9875\\u9762\\uFF0C\\u9700\\u8981\\u5148\\u8BF7\\u6C42\\u5230\\u9875\\u9762\\u7684\\u6570\\u636E\\uFF08\\u91CC\\u9762\\u5305\\u542B\\u4E86\\u56FE\\u7247\\u6570\\u636E\\u548C\\u5176\\u4ED6\\u6570\\u636E\\u7684\\u5730\\u5740\\uFF09\\uFF0C\\u518D\\u6839\\u636E\\u9875\\u9762\\u6570\\u636E\\u53BB\\u8BF7\\u6C42\\u56FE\\u7247\\u6570\\u636E\\u540E\\u518D\\u8BF7\\u6C42\\u97F3\\u9891\\u6570\\u636E\\u3002\\u4F8B\\u5982\\u4EE5\\u4E0B\\u4EE3\\u7801\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"\\n   //\\u8BF7\\u6C42\\u9875\\u9762\\u6574\\u4F53\\u6570\\u636E\\n\\n   wx.request({\\n\\n         //...\\u7701\\u7565\\u5176\\u4ED6\\u5C5E\\u6027\\n\\n         success: function (res) {//\\u6210\\u529F\\n\\n               //\\u8BF7\\u6C42\\u56FE\\u7247\\u6570\\u636E\\n\\n               wx.request({\\n\\n                 success: function (res) {//\\u6210\\u529F\\n\\n                     //\\u8BF7\\u6C42\\u97F3\\u9891\\u6570\\u636E\\n\\n                     wx.request({\\n\\n                         success: function (res) {//\\u6210\\u529F\\n\\n                         },\\n\\n                         fail: function (res) {//\\u5931\\u8D25\\n\\n                             console.log(\\\"\\u8BF7\\u6C42\\u5931\\u8D25:\\\"+res);\\n\\n                         }\\n\\n                     })\\n\\n                 },\\n\\n                 fail: function (res) {//\\u5931\\u8D25\\n\\n                     console.log(\\\"\\u8BF7\\u6C42\\u5931\\u8D25:\\\"+res);\\n\\n                 }\\n\\n               })\\n\\n         },\\n\\n         fail: function (res) {//\\u5931\\u8D25\\n\\n             console.log(\\\"\\u8BF7\\u6C42\\u5931\\u8D25:\\\"+res);\\n\\n         }\\n\\n   })\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u5982\\u4F55\\u4F18\\u5316\\uFF1F\"), \"\\u5E78\\u8FD0\\u7684\\u662F\\uFF0C\\u5728es6\\u91CC\\u9762\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528promise\\u53BB\\u4F18\\u5316\\u6211\\u4EEC\\u7684\\u56DE\\u8C03\\uFF0C\\u7528then\\u4EE3\\u66FF\\u56DE\\u8C03\\uFF0C\\u9996\\u5148\\u5C06\\u7F51\\u7EDC\\u8BF7\\u6C42\\u5C01\\u88C5\\u6210\\u4E00\\u4E2APromise\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"\\n    // \\u540E\\u53F0post\\u8BF7\\u6C42\\n\\n    function postRequest(posturl, postdata) {\\n\\n      return new Promise((resolve, reject) => {\\n\\n        wx.request({\\n\\n          //\\u7701\\u7565\\u5176\\u4ED6\\u5C5E\\u6027\\n\\n          success: function (res) {\\n\\n            console.log(\\\"at post request: \\u8BF7\\u6C42\\u6210\\u529F\\\")\\n\\n            resolve(res.data)//\\u8BBE\\u7F6Epromise\\u6210\\u529F\\u6807\\u5FD7\\n\\n          },\\n\\n          fail: function (res) {\\n\\n            console.log(\\\"at post request: \\u8BF7\\u6C42\\u5931\\u8D25\\\")\\n\\n            reject(res.data)//\\u8BBE\\u7F6Epromise\\u5931\\u8D25\\u6807\\u5FD7\\n\\n          }\\n\\n        })\\n\\n      });\\n\\n    }\\n\\n\")), mdx(\"p\", null, \"\\u8FD9\\u6837\\u5C01\\u88C5\\u4EE5\\u540E\\uFF0C\\u6211\\u4EEC\\u7684\\u7F51\\u7EDC\\u8BF7\\u6C42\\u4F1A\\u5728success\\u548Cfail\\u540E\\u56DE\\u8C03resolve,\\u8FD9\\u6837\\u53EF\\u4EE5\\u544A\\u8BC9promise\\uFF0C\\u201Chey\\uFF0C\\u6211\\u5B8C\\u6210\\u6211\\u7684\\u5DE5\\u4F5C\\u4E86\\uFF0C\\u4F60\\u53EF\\u4EE5\\u8FDB\\u884C\\u4F60\\u7684then\\u64CD\\u4F5C\\u4E86\\u201D\\uFF0C\\u8FD9\\u6837\\u5C31\\u53EF\\u4EE5\\u7528then\\u6765\\u7B80\\u5316\\u5D4C\\u5957\\u903B\\u8F91\\u3002\\u4F7F\\u7528promise\\u6765\\u5B8C\\u6210\\u4E0A\\u9762\\u90A3\\u4E2A\\u95EE\\u9898\\u7684\\u8BF7\\u6C42\\u5C06\\u4F1A\\u662F\\u8FD9\\u6837\\u7684\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"\\n    postRequest(posturl,postdata)\\n\\n    .then(function(res){\\n\\n      //\\u4E1A\\u52A1\\u903B\\u8F91\\n\\n      //\\u8C03\\u7528\\u4E0B\\u4E00\\u4E2A\\u8BF7\\u6C42\\n\\n      return postRequest(next_posturl,next_postdata);\\n\\n    })\\n\\n    .then(function(res){\\n\\n      //\\u4E1A\\u52A1\\u903B\\u8F91\\n\\n      //\\u8C03\\u7528\\u4E0B\\u4E00\\u4E2A\\u8BF7\\u6C42\\n\\n      return postRequest(next_next_posturl,next_next_postdata);\\n\\n    })\\n\\n    .then(function(res){\\n\\n      //\\u4E1A\\u52A1\\u903B\\u8F91\\n\\n    });\\n\\n\")), mdx(\"p\", null, \"\\u662F\\u4E0D\\u662F\\u7B80\\u6D01\\u7684\\u591A~\"), mdx(\"h3\", null, \"\\u4E00\\u4E2A\\u770B\\u4F3C\\u7B80\\u5355\\u7684\\u9700\\u6C42\"), mdx(\"p\", null, \"\\u6211\\u4EEC\\u7684\\u6709\\u4E00\\u4E2A\\u5F88\\u7B80\\u5355\\u7684\\u9700\\u6C42\\u662F\\u9700\\u8981\\u5BF9\\u4E00\\u7EC4\\u6570\\u91CF\\u4E0D\\u5B9A\\u7684\\u56FE\\u7247\\u505A\\u5206\\u522B\\u4E0A\\u4F20\\uFF08\\u56E0\\u4E3A\\u5FAE\\u4FE1\\u9650\\u5236\\u6240\\u4EE5\\u65E0\\u6CD5\\u505A\\u591A\\u4E0A\\u4F20\\uFF09\\uFF0C\\u5E76\\u4E14\\u5728\\u4E0A\\u4F20\\u5B8C\\u6210\\u4EE5\\u540E\\u9700\\u8981\\u83B7\\u53D6\\u5230\\u6240\\u6709\\u7684\\u8FD4\\u56DE\\u7ED3\\u679C\\u3002\"), mdx(\"p\", null, \"\\u90A3\\u4E48\\u7528\\u6211\\u4EEC\\u524D\\u9762\\u7684\\u56DE\\u8C03\\u51FD\\u6570+then\\u7684\\u8BDD\\uFF0C\\u5F88\\u81EA\\u7136\\u7684\\u60F3\\u5230\\u8FD9\\u6837\\u7684\\u5199\\u6CD5\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"\\npostRequest(posturl,postdata)\\n\\n.then(function(res){\\n\\n    //\\u83B7\\u53D6\\u8FD4\\u56DEres\\n\\n    //\\u4E0A\\u4F20\\u4E0B\\u4E00\\u4E2A\\u56FE\\u7247\\n\\n    return postRequest(next_posturl,next_postdata);\\n\\n})\\n\\n.then(function(res){\\n\\n    //\\u83B7\\u53D6\\u8FD4\\u56DEres\\n\\n    //\\u4E0A\\u4F20\\u4E0B\\u4E00\\u4E2A\\u56FE\\u7247\\n\\n    return postRequest(next_next_posturl,next_next_postdata);\\n\\n})\\n\\n.then(function(res){\\n\\n    //\\u83B7\\u53D6\\u8FD4\\u56DEres\\n\\n});\\n\\n\")), mdx(\"p\", null, \"\\u8FD9\\u6837\\u770B\\u8D77\\u6765\\u5F88\\u7B80\\u5355\\u660E\\u4E86\\uFF0C\\u4F46\\u662F\\u6211\\u7684\\u56FE\\u7247\\u6570\\u91CF\\u662F\\u4E0D\\u5B9A\\u7684\\uFF0C\\u600E\\u4E48\\u52A8\\u6001\\u7684\\u6784\\u5EFA.then.then.then\\u8FD9\\u6837\\u7684\\u94FE\\u5F0F\\u8C03\\u7528\\u5462\\uFF1F\\u7ECF\\u8FC7\\u6211\\u7684\\u7814\\u7A76\\u540E\\u53D1\\u73B0\\u53EF\\u4EE5\\u901A\\u8FC7\\u4E00\\u4E2A\\u8F85\\u52A9\\u7684promise\\u94FE\\u53BB\\u5B8C\\u6210\\u4E3B\\u94FE\\u7684\\u94FE\\u5F0F\\u6784\\u5EFA\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"\\n//\\u591A\\u6587\\u4EF6\\u4E0A\\u4F20\\n\\nfunction jabingp_upLoad(uploadurl, files) {\\n\\n  return new Promise((resolve, reject) => {\\n\\n    //\\u521D\\u59CB\\u5316promise\\u94FE\\n\\n    var mergedAjax = Promise.resolve();\\n\\n    var response = [];\\n\\n    // \\u5FAA\\u73AF\\u4E0A\\u4F20\\n\\n   \\n    // \\u8FD9\\u91CC\\u4E00\\u5B9A\\u8981\\u4F7F\\u7528let\\u6765\\u4E3A\\u6CA1\\u4E00\\u6B21\\u5FAA\\u73AF\\u6784\\u5EFA\\u4E00\\u4E2A\\u5757\\u7EA7\\u4F5C\\u7528\\u57DF\\n    // \\u4F7F\\u7528var\\u5219\\u9700\\u8981\\u914D\\u5408\\u7ACB\\u5373\\u6267\\u884C\\u51FD\\u6570\\n    for (let i = 0; i < files.length; i++) {\\n\\n      mergedAjax = mergedAjax.then(() => {\\n\\n        return jabingp_upLoadSingle(uploadurl, files[i]).then((res) => {\\n\\n          response.push(res);\\n\\n        });\\n\\n      });\\n\\n    }\\n\\n    //\\u5F53\\u524D\\u9762\\u5FAA\\u73AF\\u4E2D\\u6240\\u6709\\u7684then\\u6267\\u884C\\u5B8C\\u6BD5\\u65F6\\u4F1A\\u6267\\u884C\\u8FD9\\u4E2Athen\\n\\n    mergedAjax.then(() => {\\n\\n      resolve(response);            //\\u8BBE\\u7F6E\\u8FD9\\u4E2A\\u51FD\\u6570\\u7684promise\\u5BF9\\u8C61\\u4E3A\\u5B8C\\u6210\\u72B6\\u6001\\u5E76\\u653E\\u5165\\u6570\\u636E\\n\\n    });\\n\\n  });\\n\\n}\\n\\n\")), mdx(\"p\", null, \"\\u901A\\u8FC7\\u8FD9\\u4E2A\\u51FD\\u6570\\uFF0C\\u5C31\\u5B8C\\u6210\\u4E86\\u591A\\u4E2A\\u8BF7\\u6C42\\u4F9D\\u6B21\\u6267\\u884C\\u5E76\\u6536\\u96C6\\u7ED3\\u679C\\u7684\\u6548\\u679C\\u3002\\u8FD9\\u4E2A\\u51FD\\u6570\\u7684\\u91CD\\u70B9\\u5728\\u4E8E\\u5229\\u7528\\u53E6\\u5916\\u4E00\\u4E2A\\u5DF2\\u7ECF\\u5904\\u4E8E\\u5B8C\\u6210\\u72B6\\u6001\\u7684promise\\uFF0C\\u4E0D\\u65AD\\u7684\\u8FED\\u4EE3\\u81EA\\u8EAB\\uFF0C\\u5728\\u6BCF\\u6B21\\u8FED\\u4EE3\\u7684then\\u5185\\u90E8\\u901A\\u8FC7return\\u6765\\u5B8C\\u6210\\u8F85\\u52A9\\u94FE\\u5230\\u4E1A\\u52A1\\u94FE\\u7684\\u5207\\u6362\\u3002\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"2019-04-27 \\u66F4\\u65B0\")), mdx(\"h3\", null, \"\\u4F7F\\u7528await/async\\u66F4\\u52A0\\u4F18\\u96C5\\u5730\\u5904\\u7406\\u5F02\\u6B65\\u5427\"), mdx(\"p\", null, \"\\u5728es7\\u6807\\u51C6\\u4E2D\\uFF0C\\u5F15\\u5165\\u4E86await\\u548Casync\\u8FD9\\u5BF9\\u5144\\u5F1F\\uFF0C\\u5B83\\u4EEC\\u53EF\\u4EE5\\u8BA9\\u6211\\u4EEC\\u7684\\u5F02\\u6B65\\u4EE3\\u7801\\u770B\\u8D77\\u6765\\u548C\\u540C\\u6B65\\u4EE3\\u7801\\u4E00\\u6837\\u3002\\u8BA9\\u6211\\u4EEC\\u6765\\u770B\\u770Bawait\\u548Casync\\u90FD\\u80FD\\u505A\\u4EC0\\u4E48\\u5427\\u3002\"), mdx(\"p\", null, \"await\\u53EF\\u4EE5\\u7B49\\u5F85\\u4E00\\u4E2Apromise\\u8FD0\\u884C\\u5230\\u5B8C\\u6210\\u72B6\\u6001\\u5E76\\u4E14\\u83B7\\u53D6\\u7ED3\\u679C\\uFF0C\\u6216\\u8005\\u7B49\\u5F85\\u4E00\\u4E2Aasync\\u4FEE\\u9970\\u7684\\u51FD\\u6570\\u8FD0\\u884C\\u5B8C\\u6210\\u5E76\\u83B7\\u53D6\\u7ED3\\u679C\\uFF0C\\u4F46\\u662F\\u4F7F\\u7528await\\u7684\\u65F6\\u5019\\uFF0C\\u5FC5\\u987B\\u5728async\\u51FD\\u6570\\u4F53\\u5185\\u90E8\\u3002\\u6BD4\\u5982\\u6211\\u6709\\u8FD9\\u6837\\u4E00\\u4E2A\\u7F51\\u7EDC\\u8BF7\\u6C42:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \" function postRequest(posturl, postdata) {\\n\\n     return new Promise((resolve, reject) => {\\n\\n       wx.request({\\n\\n         //\\u7701\\u7565\\u5176\\u4ED6\\u5C5E\\u6027\\n\\n         success: function (res) {\\n\\n           console.log(\\\"at post request: \\u8BF7\\u6C42\\u6210\\u529F\\\")\\n\\n           resolve(res.data)//\\u8BBE\\u7F6Epromise\\u6210\\u529F\\u6807\\u5FD7\\n\\n         },\\n\\n         fail: function (res) {\\n\\n           console.log(\\\"at post request: \\u8BF7\\u6C42\\u5931\\u8D25\\\")\\n\\n           reject(res.data)//\\u8BBE\\u7F6Epromise\\u5931\\u8D25\\u6807\\u5FD7\\n\\n         }\\n\\n       })\\n\\n     });\\n\\n   }\\n\")), mdx(\"p\", null, \"\\u90A3\\u4E48\\u5982\\u679C\\u4E0D\\u4F7F\\u7528await\\uFF0C\\u6211\\u5C31\\u9700\\u8981\\u8FD9\\u6837\\u53D6\\u5F97\\u8BF7\\u6C42\\u7ED3\\u679C\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"function test(){\\n  postRequest(xxx,xxx).then(function(res){\\n      // \\u8FD9\\u91CC\\u9762\\u53EF\\u4EE5\\u8BFB\\u53D6\\u8BF7\\u6C42\\u7ED3\\u679Cres\\u4E86\\n      console.log(res);\\n  });\\n}\\ntest();\\n\")), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u770B\\u5230\\uFF0C\\u8FD9\\u6837\\u7684\\u4EE3\\u7801\\u4E0D\\u592A\\u7B26\\u5408\\u5E38\\u89C4\\u903B\\u8F91\\uFF0C\\u6211\\u4EEC\\u5E0C\\u671B\\u51FD\\u6570\\u4F5C\\u7528\\u662F\\u8FD4\\u56DE\\u6570\\u636E\\uFF0C\\u8FD9\\u6837\\u66F4\\u6E05\\u6670\\u660E\\u4E86\\uFF0C\\u6709\\u4E86await\\uFF0C\\u6211\\u4EEC\\u7684\\u613F\\u671B\\u5C31\\u53EF\\u4EE5\\u5B9E\\u73B0\\u4E86\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"async function test(){\\n let res = await  postRequest(xxx,xxx);\\n // \\u4E0B\\u9762\\u5C31\\u53EF\\u4EE5\\u6B63\\u5E38\\u5199\\u5BF9res\\u7684\\u8BFB\\u53D6\\u4E86\\n console.log(res);\\n}\\ntest();\\n\")), mdx(\"p\", null, \"\\u6CE8\\u610F\\u6211\\u7ED9\\u51FD\\u6570\\u52A0\\u4E0A\\u4E86async\\uFF0C\\u6709\\u4E86async\\u548Cawait\\uFF0C\\u6211\\u4EEC\\u5C31\\u53EF\\u4EE5\\u50CF\\u540C\\u6B65\\u4EE3\\u7801\\u4E00\\u6837\\u4F7F\\u7528\\u5F02\\u6B65\\u8BF7\\u6C42\\u4E86~\\n\\u90A3\\u4E48\\u4E0A\\u9762\\u90A3\\u4E2A\\u901A\\u8FC7\\u590D\\u6742\\u7684\\u6784\\u5EFA\\u94FE\\u5B8C\\u6210\\u7684\\u9700\\u6C42\\uFF0C\\u901A\\u8FC7await\\u5B9E\\u73B0\\u5C06\\u4F1A\\u53D8\\u5F97\\u975E\\u5E38\\u7B80\\u5355\\u6613\\u61C2\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"async function jabingp_upLoad(uploadurl, files) {\\n    let response = [];\\n  \\n    // \\u5FAA\\u73AF\\u4F9D\\u6B21\\u7B49\\u5F85\\u4E0A\\u4F20\\u7ED3\\u679C\\n    for (let i = 0; i < files.length; i++) {\\n        let  res = await jabingp_upLoadSingle(uploadurl, files[i]);\\n        // \\u7ED3\\u679C\\u653E\\u5165\\u6570\\u7EC4\\n        response.push(res);\\n    }\\n    // \\u8FD4\\u56DE\\u7ED3\\u679C\\n    return  response ;\\n}\\n\\n\")), mdx(\"p\", null, \"\\u4EE3\\u7801\\u4E00\\u4E0B\\u5B50\\u53D8\\u5F97\\u7B80\\u6D01\\u6613\\u61C2\\u4E86\\uFF0C\\u6CE8\\u610F\\u8C03\\u7528\\u7684\\u65F6\\u5019\\u4E5F\\u540C\\u6837\\u9700\\u8981\\u5728\\u4E00\\u4E2Aasync\\u51FD\\u6570\\u5185\\u90E8\\u6267\\u884Cawait\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"async function test(){\\n let response = await  jabingp_upLoad(xxx,xxx);\\n console.log(response );\\n}\\ntest();\\n\")), mdx(\"p\", null, \"\\u662F\\u4E0D\\u662F\\u975E\\u5E38\\u7B80\\u5355\\u5462\\uFF0C\\u8D76\\u7D27\\u5728\\u4F60\\u7684\\u5F02\\u6B65\\u8BF7\\u6C42\\u4E2D\\u4F7F\\u7528async\\u548Cawait\\u5427\\uFF01\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"categories":["code"],"date":"2020-12-08 07:38","draft":false,"tags":["javascript","小程序"],"title":"小程序异步网络请求问题的解决方案"}}},"pageContext":{"id":"60dd195e-7b1a-5fb2-86fc-c60f5713725f"}},
    "staticQueryHashes": []}
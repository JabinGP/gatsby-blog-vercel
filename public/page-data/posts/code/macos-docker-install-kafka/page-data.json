{
    "componentChunkName": "component---src-components-post-js",
    "path": "/posts/code/macos-docker-install-kafka",
    "result": {"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"macOS下使用docker安装kafka、遇到的坑与解决方案。\",\n  \"date\": \"2020-12-08T13:39:49.000Z\",\n  \"categories\": [\"code\"],\n  \"tags\": [\"macos\", \"kafka\", \"zookeeper\", \"docker\"],\n  \"draft\": false\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\u7531\\u4E8E\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kafka\"), \"\\u4F9D\\u8D56\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"zookeeper\"), \"\\uFF0C\\u56E0\\u6B64\\u9700\\u8981\\u4F7F\\u7528 docker \\u540C\\u65F6\\u5B89\\u88C5\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"zookeeper\"), \"\\u548C \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kafka\"), \"\\u3002\"), mdx(\"p\", null, \"\\u5751\\uFF1A\\u7531\\u4E8E macOS \\u7684 docker \\u5E95\\u5C42\\u5B9E\\u73B0\\u7684\\u4E0D\\u540C\\uFF0C\\u7F51\\u4E0A\\u7684\\u5F88\\u591A\\u6559\\u7A0B\\u653E\\u5728 macOS \\u4E2D\\u5E76\\u4E0D\\u80FD\\u6210\\u529F\\u8FD0\\u884C\\uFF0C\\u4E3B\\u8981\\u539F\\u56E0\\u662F macOS \\u7684 docker \\u5728\\u5BB9\\u5668\\u548C\\u5BBF\\u4E3B\\u4E4B\\u95F4\\u65E0\\u6CD5\\u901A\\u8FC7 ip \\u76F4\\u63A5\\u901A\\u4FE1\\u3002\\u56E0\\u6B64\\u5728\\u5B89\\u88C5\\u7684\\u65F6\\u5019\\u9700\\u8981\\u7279\\u6B8A\\u6CE8\\u610F\\u4E0E ip \\u76F8\\u5173\\u7684\\u8BBE\\u7F6E\\uFF0C\\u5F53\\u5BB9\\u5668\\u9700\\u8981\\u8BBF\\u95EE\\u5BBF\\u4E3Bip\\u65F6\\uFF0C\\u9700\\u8981\\u4F7F\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker.for.mac.host.internal\"), \"\\u6216\\u8005\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"host.docker.internal\"), \"\\u4EE3\\u66FF\\u3002\"), mdx(\"h2\", null, \"\\u62C9\\u53D6\\u955C\\u50CF\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"docker pull wurstmeister/zookeeper\\ndocker pull wurstmeister/kafka\\n\")), mdx(\"h2\", null, \"\\u542F\\u52A8\\u5BB9\\u5668\"), mdx(\"h3\", null, \"\\u542F\\u52A8 zookeeper\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"docker run -d --name zookeeper -p 2181:2181 wurstmeister/zookeeper\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-d\"), \" \\u53C2\\u6570\\u8BBE\\u7F6E\\u540E\\u53F0\\u8FD0\\u884C\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"--name zookeeper\"), \" \\u53C2\\u6570\\u6307\\u5B9A\\u5BB9\\u5668\\u522B\\u540D\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-p 2181:2181\"), \" \\u53C2\\u6570\\u7ED1\\u5B9A\\u5BB9\\u5668\\u7AEF\\u53E3\\u5230\\u5BBF\\u4E3B\\u7AEF\\u53E3\")), mdx(\"h3\", null, \"\\u542F\\u52A8 kafka\"), mdx(\"p\", null, \"\\u6CE8\\u610F\\uFF0C\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"kafka \\u4F9D\\u8D56 zookeeper\"), \"\\uFF0C\\u542F\\u52A8 kafka \\u524D\\u9700\\u8981\\u5148\\u542F\\u52A8 zookeeper\\u3002\"), mdx(\"p\", null, \"\\u4EE5\\u4E0B\\u914D\\u7F6E\\u9ED8\\u8BA4 kafka \\u7AEF\\u53E3\\u914D\\u7F6E\\u5728 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"9092\"), \" \\u7AEF\\u53E3\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"docker run -d --name kafka -p 9092:9092 -e KAFKA_BROKER_ID=0 -e KAFKA_ZOOKEEPER_CONNECT={host-ip}:{zookeeper-port}/kafka -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://{host-ip}:9092 -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 wurstmeister/kafka\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-d\"), \" \\u53C2\\u6570\\u6307\\u5B9A\\u5BB9\\u5668\\u540E\\u53F0\\u8FD0\\u884C\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--name kafka\"), \" \\u53C2\\u6570\\u6307\\u5B9A\\u5BB9\\u5668\\u522B\\u540D\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-e\"), \" \\u53C2\\u6570\\u53EF\\u4EE5\\u8BBE\\u7F6E docker \\u5BB9\\u5668\\u5185\\u73AF\\u5883\\u53D8\\u91CF\\uFF0C\\u6BCF\\u4E2A\\u53D8\\u91CF\\u7684\\u89E3\\u91CA\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"KAFKA_BROKER_ID=0\"), \"\\n\\u5728 kafka \\u96C6\\u7FA4\\u4E2D\\uFF0C\\u6BCF\\u4E2A kafka \\u90FD\\u6709\\u4E00\\u4E2A BROKER_ID \\u6765\\u533A\\u5206\\u81EA\\u5DF1\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"KAFKA_ZOOKEEPER_CONNECT={host-ip}:{zookeeper-port}/kafka\"), \"\\n\\u914D\\u7F6E zookeeper \\u7BA1\\u7406 kafka \\u7684\\u8DEF\\u5F84\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://{host-ip}:9092\"), \"\\n\\u628A kafka \\u7684\\u5730\\u5740\\u7AEF\\u53E3\\u6CE8\\u518C\\u7ED9 zookeeper\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092\"), \"\\nkafka \\u76D1\\u542C\\u5730\\u5740\")), mdx(\"p\", null, \"\\u6BD4\\u5982\\u6211\\u7684\\u7535\\u8111\\u662F mac\\uFF0C\\u5728 host-ip \\u8FD9\\u5757\\u5C31\\u4E0D\\u80FD\\u586B\\u672C\\u673A ip\\uFF08windows \\u548C linux \\u53EF\\u4EE5\\uFF09\\uFF0C\\u9700\\u8981\\u586B\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker.for.mac.host.internal\"), \"\\uFF0Czookeeper \\u7AEF\\u53E3\\u542F\\u52A8\\u5728\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"2181\"), \"\\uFF0Ckafka \\u5373\\u5C06\\u542F\\u52A8\\u5728\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"9092\"), \"\\uFF0C\\u90A3\\u4E48\\u6211\\u7684\\u547D\\u4EE4\\u662F\\u8FD9\\u6837\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker run -d --name kafka -p 9092:9092 -e KAFKA_BROKER_ID=0 -e KAFKA_ZOOKEEPER_CONNECT=docker.for.mac.host.internal:2181/kafka -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://docker.for.mac.host.internal:9092 -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 wurstmeister/kafka\")), mdx(\"h2\", null, \"\\u6D4B\\u8BD5\\u529F\\u80FD\\u662F\\u5426\\u6B63\\u5E38\"), mdx(\"h3\", null, \"\\u6D4B\\u8BD5 kafka \\u751F\\u4EA7\\u4E0E\\u6D88\\u8D39\"), mdx(\"h4\", null, \"\\u8FDB\\u5165 kafka \\u5BB9\\u5668\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"docker exec -it kafka bash\\n\")), mdx(\"h4\", null, \"\\u8FDB\\u5165 kafka \\u5BB9\\u5668\\u4E2D\\u7684\\u811A\\u672C\\u76EE\\u5F55\"), mdx(\"p\", null, \"\\u6CE8\\u610F\\uFF0C\\u6B64\\u65F6\\u5E94\\u8BE5\\u5DF2\\u7ECF\\u8FDB\\u5165\\u5230\\u4E86\\u5BB9\\u5668\\u4E2D\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"bash\"), \"\\u3002\"), mdx(\"p\", null, \"\\u8FDB\\u5165 kafka \\u7684\\u811A\\u672C\\u76EE\\u5F55\\uFF0C\\u5176\\u4E2D\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kafka_2.12-2.5.0\"), \"\\u53EF\\u80FD\\u4F1A\\u968F\\u7740\\u7248\\u672C\\u800C\\u53D8\\u5316\\u6570\\u5B57\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"cd /opt/kafka_2.12-2.5.0/bin\\n\")), mdx(\"p\", null, \"\\u901A\\u8FC7 ls \\u53EF\\u4EE5\\u770B\\u5230\\u8BB8\\u591A\\u7684.sh \\u811A\\u672C\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"bash-4.4# ls\\nconnect-distributed.sh               kafka-delete-records.sh              kafka-server-stop.sh\\nconnect-mirror-maker.sh              kafka-dump-log.sh                    kafka-streams-application-reset.sh\\nconnect-standalone.sh                kafka-leader-election.sh             kafka-topics.sh\\nkafka-acls.sh                        kafka-log-dirs.sh                    kafka-verifiable-consumer.sh\\nkafka-broker-api-versions.sh         kafka-mirror-maker.sh                kafka-verifiable-producer.sh\\nkafka-configs.sh                     kafka-preferred-replica-election.sh  trogdor.sh\\nkafka-console-consumer.sh            kafka-producer-perf-test.sh          windows\\nkafka-console-producer.sh            kafka-reassign-partitions.sh         zookeeper-security-migration.sh\\nkafka-consumer-groups.sh             kafka-replica-verification.sh        zookeeper-server-start.sh\\nkafka-consumer-perf-test.sh          kafka-run-class.sh                   zookeeper-server-stop.sh\\nkafka-delegation-tokens.sh           kafka-server-start.sh                zookeeper-shell.sh\\nbash-4.4#\\n\")), mdx(\"h4\", null, \"\\u6D4B\\u8BD5 kafka \\u751F\\u4EA7\\u8005\\u548C\\u6D88\\u8D39\\u8005\"), mdx(\"h5\", null, \"\\u542F\\u52A8 kafka \\u751F\\u4EA7\\u8005\"), mdx(\"p\", null, \"\\u8FD0\\u884C kafka \\u751F\\u4EA7\\u8005\\u53D1\\u9001\\u6D88\\u606F\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"./kafka-console-producer.sh --broker-list localhost:9092 --topic first-topic\\n\")), mdx(\"p\", null, \"\\u770B\\u5230\\u51FA\\u73B0\\u4E86\\u4E2A\\u5BF9\\u8BDD\\u63D0\\u793A\\u7684\\u5C0F\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \">\"), \"\\u5C31\\u53EF\\u4EE5\\u53D1\\u9001\\u6D88\\u606F\\u4E86\\uFF0C\\u4E0D\\u8FC7\\u4E0D\\u8981\\u7740\\u6025\\uFF0C\\u5148\\u628A\\u6D88\\u8D39\\u8005\\u542F\\u52A8\\u4E86\\u3002\"), mdx(\"h5\", null, \"\\u542F\\u52A8 kafka \\u6D88\\u8D39\\u8005\"), mdx(\"p\", null, \"\\u53E6\\u8D77\\u4E00\\u4E2A\\u7EC8\\u7AEF\\uFF0C\\u8FDB\\u5165 kafka \\u5BB9\\u5668\\uFF0C\\u8FDB\\u5165\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/opt/kafka_2.12-2.5.0/bin\"), \"\\u76EE\\u5F55\\uFF0C\\u8FD0\\u884C kafka \\u6D88\\u8D39\\u8005\\u63A5\\u6536\\u6D88\\u606F\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic first-topic --from-beginning\\n\")), mdx(\"h5\", null, \"\\u6D4B\\u8BD5\\u53D1\\u9001\\u548C\\u63A5\\u6536\\u6D88\\u606F\"), mdx(\"p\", null, \"\\u5728\\u751F\\u4EA7\\u8005\\u4E2D\\u53D1\\u9001\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Hello\"), \"\\uFF0C\\u6D88\\u8D39\\u8005\\u4E2D\\u5E94\\u8BE5\\u80FD\\u591F\\u6536\\u5230\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Hello\"), \"\\u3002\"), mdx(\"p\", null, \"\\u751F\\u4EA7\\u8005\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"jabin@jabindeiMac ~/code/tmp \\xBB docker exec -it kafka bash\\nbash-4.4# cd /opt/kafka_2.12-2.5.0/bin/\\nbash-4.4# ./kafka-console-producer.sh --broker-list localhost:9092 --topic first-topic\\n>Hello\\n>\\n\")), mdx(\"p\", null, \"\\u6D88\\u8D39\\u8005\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cmd\"\n  }, \"jabin@jabindeiMac ~/code/tmp \\xBB docker exec -it kafka bash\\nbash-4.4# cd /opt/kafka_2.12-2.5.0/bin/\\nbash-4.4# ./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic first-topic --from-beginning\\nHello\\n\")), mdx(\"h2\", null, \"\\u53C2\\u8003\\u6587\\u7AE0\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.jianshu.com/p/e8c29cba9fae\"\n  }, \"https://www.jianshu.com/p/e8c29cba9fae\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.docker.com/docker-for-mac/networking/\"\n  }, \"https://docs.docker.com/docker-for-mac/networking/\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://yuanmomo.net/2019/06/13/docker-network/\"\n  }, \"https://yuanmomo.net/2019/06/13/docker-network/\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.jianshu.com/p/052f9c6ca664\"\n  }, \"https://www.jianshu.com/p/052f9c6ca664\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"categories":["code"],"date":"2020-12-08 13:39","draft":false,"tags":["macos","kafka","zookeeper","docker"],"title":"macOS下使用docker安装kafka、遇到的坑与解决方案。"}}},"pageContext":{"id":"9291f52a-d49b-54a7-846e-58331b64d0f3"}},
    "staticQueryHashes": []}
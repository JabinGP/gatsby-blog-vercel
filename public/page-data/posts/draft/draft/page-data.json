{
    "componentChunkName": "component---src-pages-post-js",
    "path": "/posts/draft/draft",
    "result": {"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"草稿\",\n  \"date\": \"2021-01-15T13:24:06.000Z\",\n  \"tags\": [],\n  \"categories\": [\"draft\"],\n  \"draft\": true\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"1. PCB\"), mdx(\"p\", null, \"\\u8FDB\\u7A0B\\u7684\\u53E6\\u4E00\\u4E2A\\u540D\\u5B57\\u662F \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u4EFB\\u52A1\\uFF08task\\uFF09\"), \" \\u3002 Linux \\u5185\\u6838\\u901A\\u5E38\\u628A\\u8FDB\\u7A0B\\u4E5F\\u53EB\\u505A\\u4EFB\\u52A1\\u3002\"), mdx(\"p\", null, \"\\u524D\\u6587\\u4E5F\\u63D0\\u5230\\u8FC7PCB\\uFF0C\\u8FD9\\u662F\\u8FDB\\u7A0B\\u5728\\u64CD\\u4F5C\\u7CFB\\u7EDF\\u4E2D\\u7684\\u6570\\u636E\\u7ED3\\u6784\\uFF0C\\u800C\\u4F17\\u6240\\u5468\\u77E5 Linux \\u662F\\u7528 C \\u8BED\\u8A00\\u7F16\\u5199\\u7684\\u5F00\\u6E90\\u64CD\\u4F5C\\u7CFB\\u7EDF\\uFF0C\\u56E0\\u6B64\\u6211\\u4EEC\\u53EF\\u4EE5\\u770B\\u770B Linux \\u7684\\u6E90\\u7801\\u4E2D\\u662F\\u5982\\u4F55\\u5B9A\\u4E49PCB\\u7684\\u3002\"), mdx(\"p\", null, \"\\u5728 Linux \\u6E90\\u7801\\u4E2DPCB\\u88AB\\u5B9A\\u4E49\\u4E3A \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"task_struct\"), \"\\uFF0C \\u7531\\u4E8E\\u5176\\u5B8C\\u6574\\u5B9A\\u4E49\\u6709 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"700+\"), \" \\u884C\\uFF0C\\u4FBF\\u4E8E\\u6D4F\\u89C8\\u8FD9\\u91CC\\u53EA\\u6458\\u51FA\\u4E86\\u90E8\\u5206\\u6BD4\\u8F83\\u5E38\\u7528\\u7684\\u5C5E\\u6027\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c\"\n  }, \"struct task_struct {\\n    pid_t               pid;\\n    pid_t               tgid;\\n\\n    /* -1 unrunnable, 0 runnable, >0 stopped: */\\n    volatile long           state;\\n\\n    unsigned int            policy;\\n\\n    int         prio;\\n\\n    int             exit_state;\\n    int             exit_code;\\n    int             exit_signal;\\n    /* The signal sent when the parent dies: */\\n    int             pdeath_signal;\\n\\n    unsigned            in_execve:1;\\n    unsigned            in_iowait:1;\\n\\n    /* Real parent process: */\\n    struct task_struct __rcu    *real_parent;\\n\\n    /* Recipient of SIGCHLD, wait4() reports: */\\n    struct task_struct __rcu    *parent;\\n\\n    /*\\n     * Children/sibling form the list of natural children:\\n     */\\n    struct list_head        children;\\n    struct list_head        sibling;\\n    struct task_struct      *group_leader;\\n\\n    struct list_head        tasks;\\n};\\n\")), mdx(\"h2\", null, \"2. \\u7236\\u8FDB\\u7A0B\\u4E0E\\u5B50\\u8FDB\\u7A0B\"), mdx(\"h3\", null, \"2.1 \\u8FDB\\u7A0B\\u5BB6\\u65CF\\u6811\"), mdx(\"p\", null, \"\\u8BF4\\u5230\\u7236\\u8FDB\\u7A0B\\u4E0E\\u5B50\\u8FDB\\u7A0B \\uFF0C\\u5C31\\u4E0D\\u5F97\\u4E0D\\u63D0\\u5230Unix\\u7684 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u8FDB\\u7A0B\\u5BB6\\u65CF\\u6811\"), \" \\u3002\"), mdx(\"p\", null, \"Unix \\u7684\\u8FDB\\u7A0B\\u4E4B\\u95F4\\u5B58\\u5728\\u4E00\\u4E2A\\u660E\\u663E\\u7684\\u7EE7\\u627F\\u5173\\u7CFB\\uFF0C\\u6240\\u6709\\u7684\\u8FDB\\u7A0B\\u90FD\\u662F PID \\u4E3A1\\u7684 init \\u8FDB\\u7A0B\\u7684\\u540E\\u4EE3\\uFF08\\u6392\\u9664\\u4E00\\u4E9B\\u5185\\u6838\\u8FDB\\u7A0B\\uFF0C\\u4ED6\\u4EEC\\u662F 0\\u53F7\\u8FDB\\u7A0B\\u7684\\u540E\\u4EE3\\uFF09\\u3002\\u5185\\u6838\\u5728\\u7CFB\\u7EDF\\u542F\\u52A8\\u7684\\u6700\\u540E\\u9636\\u6BB5\\u542F\\u52A8 init \\u8FDB\\u7A0B\\uFF0C\\u8BE5\\u8FDB\\u7A0B\\u8BFB\\u53D6\\u7CFB\\u7EDF\\u7684\\u521D\\u59CB\\u5316\\u811A\\u672C\\uFF08initscript\\uFF09\\u5E76\\u6267\\u884C\\u5176\\u4ED6\\u7684\\u76F8\\u5173\\u7A0B\\u5E8F\\uFF0C\\u6700\\u7EC8\\u5B8C\\u6210\\u7CFB\\u7EDF\\u542F\\u52A8\\u7684\\u6574\\u4E2A\\u8FC7\\u7A0B\\u3002\"), mdx(\"p\", null, \"\\u7CFB\\u7EDF\\u4E2D\\u7684\\u6BCF\\u4E2A\\u8FDB\\u7A0B\\u5FC5\\u6709\\u4E00\\u4E2A\\u7236\\u8FDB\\u7A0B\\uFF0C\\u76F8\\u5E94\\u7684\\u6BCF\\u4E2A\\u8FDB\\u7A0B\\u4E5F\\u53EF\\u4EE5\\u62E5\\u6709\\u96F6\\u4E2A\\u6216\\u591A\\u4E2A\\u5B50\\u8FDB\\u7A0B\\u3002\\u62E5\\u6709\\u540C\\u4E00\\u4E2A\\u7236\\u8FDB\\u7A0B\\u7684\\u6240\\u6709\\u8FDB\\u7A0B\\u88AB\\u6210\\u4E3A\\u5144\\u5F1F\\u3002\\u8FDB\\u7A0B\\u95F4\\u7684\\u5173\\u7CFB\\u5B58\\u653E\\u5728 task_struct \\u4E2D\\u3002\\u6BCF\\u4E2A task_struct \\u5305\\u542B\\u4E00\\u4E2A\\u6307\\u5411\\u5176\\u7236\\u8FDB\\u7A0B task_struct \\u7684\\u6307\\u9488\\uFF0C\\u53EB\\u505A \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"parent\"), \" \\u6307\\u9488\\uFF0C\\u8FD8\\u5305\\u542B\\u4E86\\u4E00\\u4E2A\\u79F0\\u4E3A \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"children\"), \" \\u7684\\u5B50\\u8FDB\\u7A0B\\u94FE\\u8868\\u3002\"), mdx(\"h3\", null, \"2.2 \\u8FDB\\u7A0B\\u7684\\u521B\\u5EFA\"), mdx(\"p\", null, \"\\u8BB8\\u591A\\u5176\\u4ED6\\u7684\\u64CD\\u4F5C\\u7CFB\\u7EDF\\u90FD\\u63D0\\u4F9B \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u4EA7\\u751F\\uFF08spawn\\uFF09\"), \" \\u8FDB\\u7A0B\\u7684\\u673A\\u5236\\uFF0C\\u5373\\u5728\\u65B0\\u7684\\u5730\\u5740\\u7A7A\\u95F4\\u521B\\u5EFA\\u8FDB\\u7A0B\\uFF0C\\u8BFB\\u5165\\u53EF\\u6267\\u884C\\u6587\\u4EF6\\uFF0C\\u6700\\u540E\\u5F00\\u59CB\\u6267\\u884C\\u3002\"), mdx(\"p\", null, \"\\u4F46 Unix \\u7684\\u8FDB\\u7A0B\\u521B\\u5EFA\\u5F88\\u7279\\u522B\\uFF0C\\u5B83\\u5C06\\u4E0A\\u8FF0\\u6B65\\u9AA4\\u5206\\u89E3\\u5230\\u4E24\\u4E2A\\u5355\\u72EC\\u7684\\u51FD\\u6570 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"fork()\"), \" \\u548C \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"exec()\"), \" \\u4E2D\\u53BB\\u6267\\u884C\\u3002\"), mdx(\"h4\", null, \"2.2.1 fork()\"), mdx(\"p\", null, \"\\u9996\\u5148\\uFF0Cfork() \\u901A\\u8FC7 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u62F7\\u8D1D\"), \" \\u5F53\\u524D\\u8FDB\\u7A0B\\u521B\\u5EFA\\u4E00\\u4E2A\\u5B50\\u8FDB\\u7A0B\\uFF0C\\u6B64\\u65F6\\u8BE5\\u5B50\\u8FDB\\u7A0B\\u4E0E\\u7236\\u8FDB\\u7A0B\\u7684\\u533A\\u522B\\u4EC5\\u4EC5\\u5728\\u4E8E PID\\uFF08\\u6BCF\\u4E2A\\u8FDB\\u7A0B\\u5177\\u6709\\u552F\\u4E00\\u7684 PID \\uFF09 \\u3001PPID\\uFF08\\u5B50\\u8FDB\\u7A0B\\u7684 PPID \\u5C06\\u662F\\u88AB\\u62F7\\u8D1D\\u8FDB\\u7A0B\\u7684 PID \\uFF09\\u548C\\u67D0\\u4E9B\\u8D44\\u6E90\\u548C\\u7EDF\\u8BA1\\u91CF\\uFF08\\u4F8B\\u5982\\uFF0C\\u6302\\u8D77\\u7684\\u4FE1\\u53F7\\uFF0C\\u5B83\\u6CA1\\u6709\\u5FC5\\u8981\\u88AB\\u7EE7\\u627F\\uFF09\\u3002\"), mdx(\"p\", null, \"fork() \\u88AB\\u8C03\\u7528\\u4E00\\u6B21\\uFF0C\\u4F46\\u4F1A\\u5728\\u7236\\u8FDB\\u7A0B\\u548C\\u65B0\\u4EA7\\u751F\\u7684\\u5B50\\u8FDB\\u7A0B\\u4E2D\\u5404\\u8FD4\\u56DE\\u4E00\\u6B21\\uFF08\\u5171\\u8FD4\\u56DE\\u4E24\\u6B21\\uFF09\\u3002\\u4E24\\u6B21\\u8FD4\\u56DE\\u7684\\u533A\\u522B\\u662F\\u5B50\\u8FDB\\u7A0B\\u5F97\\u5230\\u7684\\u8FD4\\u56DE\\u503C\\u662F0\\uFF0C\\u800C\\u7236\\u8FDB\\u7A0B\\u5F97\\u5230\\u7684\\u8FD4\\u56DE\\u503C\\u662F\\u65B0\\u7684\\u5B50\\u8FDB\\u7A0B\\u7684 PID \\u3002\"), mdx(\"p\", null, \"fork() \\u8BA9\\u7236\\u8FDB\\u7A0B\\u5F97\\u5230\\u5B50\\u8FDB\\u7A0B\\u7684 PID \\u7684\\u539F\\u56E0\\u662F\\uFF1A\\u4E00\\u4E2A\\u8FDB\\u7A0B\\u7684\\u5B50\\u8FDB\\u7A0B\\u53EF\\u4EE5\\u6709\\u591A\\u4E2A\\uFF0C\\u5E76\\u4E14\\u9664\\u4E86 fork() \\u7684\\u8FD4\\u56DE\\u503C\\u5916\\uFF0C\\u6CA1\\u6709\\u4EFB\\u4F55\\u4E00\\u4E2A\\u51FD\\u6570\\u80FD\\u591F\\u5F97\\u5230\\u8BE5\\u5B50\\u8FDB\\u7A0B\\u7684 PID \\u4E86\\u3002\"), mdx(\"p\", null, \"fork() \\u8BA9\\u5B50\\u8FDB\\u7A0B\\u5F97\\u5230\\u8FD4\\u56DE\\u503C0\\u7684\\u539F\\u56E0\\u662F\\uFF1A\\u4E00\\u4E2A\\u8FDB\\u7A0B\\u6709\\u4E14\\u53EA\\u6709\\u4E00\\u4E2A\\u7236\\u8FDB\\u7A0B\\uFF0C\\u6240\\u4EE5\\u5B50\\u8FDB\\u7A0B\\u53EF\\u4EE5\\u901A\\u8FC7 getppid() \\u6765\\u5F97\\u5230\\u7236\\u8FDB\\u7A0B\\u7684 PID \\uFF0C\\u5E76\\u4E14\\u8FD4\\u56DE\\u503C\\u662F\\u5426\\u4E3A0\\u53EF\\u4EE5\\u5224\\u65AD\\u5F53\\u524D\\u8FDB\\u7A0B\\u662F\\u5426\\u662F\\u65B0\\u521B\\u5EFA\\u7684\\u5B50\\u8FDB\\u7A0B\\uFF08\\u5C3D\\u7BA1\\u5728\\u7CFB\\u7EDF\\u4E2D\\u7684\\u7684\\u786E\\u786E\\u5B58\\u5728 PID \\u4E3A0\\u7684\\u8FDB\\u7A0B\\uFF0C\\u4F460\\u53F7\\u8FDB\\u7A0B\\u662F\\u5185\\u6838\\u8FDB\\u7A0B\\uFF0C\\u5E76\\u4E14\\u662F\\u6574\\u4E2A\\u7CFB\\u7EDF\\u4E2D\\u7684\\u7B2C\\u4E00\\u4E2A\\u8FDB\\u7A0B\\uFF0C\\u6240\\u4EE5\\u4E0D\\u53EF\\u80FD\\u662F\\u4E00\\u4E2A\\u5B50\\u8FDB\\u7A0B\\u7684 PID\\uFF09\\u3002\"), mdx(\"h5\", null, \"2.2.1.1 fork() \\u793A\\u4F8B\"), mdx(\"p\", null, \"\\u8FD9\\u662F\\u4E00\\u4E2A\\u975E\\u5E38\\u7B80\\u5355\\u7684 fork() \\u793A\\u4F8B\\uFF0C\\u8FD0\\u884C\\u8FD9\\u4E2A\\u793A\\u4F8B\\u4F60\\u5C06\\u4F1A\\u660E\\u767D\\u8FD4\\u56DE\\u4E24\\u6B21\\u662F\\u4EC0\\u4E48\\u610F\\u601D\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c\"\n  }, \"include<stdio.h>\\n#include <unistd.h>\\n\\nint main(){\\n    int pid = fork();\\n    printf(\\\"pid = %d\\\\n\\\", pid);\\n}\\n\")), mdx(\"h4\", null, \"2.2.2 exec()\"), mdx(\"p\", null, \"exec() \\u51FD\\u6570\\u8D1F\\u8D23\\u8BFB\\u53D6\\u53EF\\u6267\\u884C\\u6587\\u4EF6\\uFF0C\\u5E76\\u5C06\\u5176\\u8F7D\\u5165\\u5730\\u5740\\u7A7A\\u95F4\\u5F00\\u59CB\\u8FD0\\u884C\\u3002exec() \\u6307\\u6240\\u6709 exec() \\u4E00\\u65CF\\u7684\\u51FD\\u6570\\uFF0C\\u5305\\u62EC execve() \\u3001 execlp()\\u3001 execle() \\u3001 execv() \\u3001 execvp() \\u7B49\\u3002\"), mdx(\"p\", null, \"\\u8FDB\\u7A0B\\u6267\\u884C exec() \\u7A0B\\u5E8F\\u65F6\\uFF0C\\u8BE5\\u8FDB\\u7A0B\\u6267\\u884C\\u7684\\u7A0B\\u5E8F\\u5B8C\\u5168\\u66FF\\u6362\\u4E3A\\u65B0\\u7A0B\\u5E8F\\uFF0C\\u4E14\\u65B0\\u7A0B\\u5E8F\\u4ECE main \\u51FD\\u6570\\uFF08\\u56DE\\u60F3 C \\u8BED\\u8A00\\u7684 main \\u51FD\\u6570\\uFF09\\u5F00\\u59CB\\u6267\\u884C\\u3002\\u56E0\\u4E3A exec() \\u53EA\\u662F\\u7528\\u5168\\u65B0\\u7684\\u7A0B\\u5E8F\\u66FF\\u6362\\u4E86\\u5F53\\u524D\\u8FDB\\u7A0B\\u7684\\u6B63\\u6587\\u3001\\u6570\\u636E\\u3001\\u5806\\u548C\\u6808\\u6BB5\\uFF0C\\u56E0\\u6B64 exec() \\u5E76\\u4E0D\\u4F1A\\u4EA7\\u751F\\u65B0\\u7684\\u8FDB\\u7A0B\\uFF0C\\u66F4\\u5E76\\u4E0D\\u4F1A\\u6539\\u53D8\\u5F53\\u524D\\u8FDB\\u7A0B\\u7684 PID\\u3002\"), mdx(\"h4\", null, \"2.2.3 \\u7EC4\\u5408\\u4F7F\\u7528 fork() \\u548C exec()\"), mdx(\"p\", null, \"\\u5728 Unix \\u4E2D\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u8FDB\\u7A0B\\u7684\\u65B9\\u5F0F\\u662F\\u5148\\u4F7F\\u7528 fork() \\uFF0C\\u901A\\u8FC7 fork() \\u7684\\u8FD4\\u56DE\\u503C\\u5224\\u65AD\\u51FA\\u54EA\\u4E2A\\u662F\\u5B50\\u8FDB\\u7A0B\\uFF0C\\u5E76\\u5728\\u5B50\\u8FDB\\u7A0B\\u4E2D\\u6267\\u884C exec() \\u3002\\u4E0B\\u9762\\u662F\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 C \\u8BED\\u8A00\\u4EE3\\u7801\\u793A\\u4F8B\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c\"\n  }, \"\")), mdx(\"h2\", null, \"\\u8FDB\\u7A0B\\u7EC4\"), mdx(\"h2\", null, \"\\u4F1A\\u8BDD\\u7EC4\"), mdx(\"h2\", null, \"Nginx \\u914D\\u7F6E\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-Nginx\"\n  }, \"##\\n# You should look at the following URL's in order to grasp a solid understanding\\n# of Nginx configuration files in order to fully unleash the power of Nginx.\\n# https://www.nginx.com/resources/wiki/start/\\n# https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/\\n# https://wiki.debian.org/Nginx/DirectoryStructure\\n#\\n# In most cases, administrators will remove this file from sites-enabled/ and\\n# leave it as reference inside of sites-available where it will continue to be\\n# updated by the nginx packaging team.\\n#\\n# This file will automatically load configuration files provided by other\\n# applications, such as Drupal or Wordpress. These applications will be made\\n# available underneath a path with that package name, such as /drupal8.\\n#\\n# Please see /usr/share/doc/nginx-doc/examples/ for more detailed examples.\\n##\\n\\n# Default server configuration\\n#\\nserver {\\n    listen 80 default_server;\\n    listen [::]:80 default_server;\\n\\n    # SSL configuration\\n    #\\n    # listen 443 ssl default_server;\\n    # listen [::]:443 ssl default_server;\\n    #\\n    # Note: You should disable gzip for SSL traffic.\\n    # See: https://bugs.debian.org/773332\\n    #\\n    # Read up on ssl_ciphers to ensure a secure configuration.\\n    # See: https://bugs.debian.org/765782\\n    #\\n    # Self signed certs generated by the ssl-cert package\\n    # Don't use them in a production server!\\n    #\\n    # include snippets/snakeoil.conf;\\n\\n    #root /var/www/html;\\n\\n    # Add index.php to the list if you are using PHP\\n    #index index.html index.htm index.nginx-debian.html;\\n\\n    server_name _;\\n\\n    location / {\\n        # First attempt to serve request as file, then\\n        # as directory, then fall back to displaying a 404.\\n        try_files $uri $uri/ =404;\\n    }\\n    location /mike/ {\\n        alias /home/mike/nginx-folder/;\\n    }\\n    # pass PHP scripts to FastCGI server\\n    #\\n    #location ~ \\\\.php$ {\\n    #   include snippets/fastcgi-php.conf;\\n    #\\n    #   # With php-fpm (or other unix sockets):\\n    #   fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;\\n    #   # With php-cgi (or other tcp sockets):\\n    #   fastcgi_pass 127.0.0.1:9000;\\n    #}\\n\\n    # deny access to .htaccess files, if Apache's document root\\n    # concurs with nginx's one\\n    #\\n    #location ~ /\\\\.ht {\\n    #   deny all;\\n    #}\\n}\\n\\n\\n# Virtual Host configuration for example.com\\n#\\n# You can move that to a different file under sites-available/ and symlink that\\n# to sites-enabled/ to enable it.\\n#\\n\\nserver {\\n\\n    # SSL configuration\\n    \\n    #listen 443 ssl default_server;\\n    #listen [::]:443 ssl default_server;\\n    \\n    # Note: You should disable gzip for SSL traffic.\\n    # See: https://bugs.debian.org/773332\\n    #\\n    # Read up on ssl_ciphers to ensure a secure configuration.\\n    # See: https://bugs.debian.org/765782\\n    #\\n    # Self signed certs generated by the ssl-cert package\\n    # Don't use them in a production server!\\n    #\\n    # include snippets/snakeoil.conf;\\n\\n    #root /var/www/html;\\n\\n    # Add index.php to the list if you are using PHP\\n    #index index.html index.htm index.nginx-debian.html;\\n    server_name hk1.jabni.top; # managed by Certbot\\n\\n\\n        location / {\\n            proxy_http_version 1.1;\\n                proxy_set_header Host $host;\\n                proxy_set_header X-Real-IP $remote_addr;\\n                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n               proxy_pass http://127.0.0.1:3000;\\n        }\\n    # pass PHP scripts to FastCGI server\\n    #\\n    #location ~ \\\\.php$ {\\n    #   include snippets/fastcgi-php.conf;\\n    #\\n    #   # With php-fpm (or other unix sockets):\\n    #   fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;\\n    #   # With php-cgi (or other tcp sockets):\\n    #   fastcgi_pass 127.0.0.1:9000;\\n    #}\\n\\n    # deny access to .htaccess files, if Apache's document root\\n    # concurs with nginx's one\\n    #\\n    #location ~ /\\\\.ht {\\n    #   deny all;\\n    #}\\n\\n\\n    listen [::]:443 ssl ipv6only=on; # managed by Certbot\\n    listen 443 ssl; # managed by Certbot\\n    ssl_certificate /etc/letsencrypt/live/hk1.jabni.top/fullchain.pem; # managed by Certbot\\n    ssl_certificate_key /etc/letsencrypt/live/hk1.jabni.top/privkey.pem; # managed by Certbot\\n    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\\n    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot\\n\\n}\\n# server {\\n#     if ($host = hk1.jabni.top) {\\n#         return 301 https://$host$request_uri;\\n#     } # managed by Certbot\\n# \\n# \\n#   listen 80 ;\\n#   listen [::]:80 ;\\n#     server_name hk1.jabni.top;\\n#     return 404; # managed by Certbot\\n# \\n# \\n# }\\n\\n\")), mdx(\"h2\", null, \"docker\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"/home/docker-data/murmur:/data \\u672C\\u673A\\u7684 /home/docker-data/murmur \\u6620\\u5C04\\u4E3A /data\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ docker pull coppit/mumble-server\\n$ docker run --name=mumble-server -d --net=host -v /home/docker-data/murmur:/data -t coppit/mumble-server\\n\")), mdx(\"h2\", null, \"docker -1\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ docker pull phlak/mumble\\n$ docker run -d -p 64738:64738 -p 64738:64738/udp -v mumble-data:/etc/mumble --name mumble-server phlak/mumble\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[docker-mumble]\", \" (\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/PHLAK/docker-mumble\"\n  }, \"https://github.com/PHLAK/docker-mumble\"), \")\")), mdx(\"p\", null, \"\\u6570\\u636E\\u5C06\\u88AB\\u653E\\u5728 /var/lib/docker/volumes/mumble-data/_data\\n\\u53EF\\u4EE5\\u901A\\u8FC7\\u8FD9\\u4E2A\\u547D\\u4EE4\\u770B\\u5230\"), mdx(\"p\", null, \"docker inspect mumble-server | less\"), mdx(\"p\", null, \"docker run -d -p 64739:64738 -p 64739:64738/udp -v /home/docker-data/murmur:/etc/mumble --name mumble-server-1 phlak/mumble\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://zhuanlan.zhihu.com/p/43105630\"\n  }, \"docker\\u5BB9\\u5668\\u4E2D\\u65E0\\u6743\\u9650\\u64CD\\u4F5C\\u6302\\u8F7D\\u5BBF\\u4E3B\\u673A\\u7684\\u76EE\\u5F55\\u89E3\\u51B3\\u65B9\\u6848\"))), mdx(\"p\", null, \"\\\"Propagation\\\":\\\"rprivate\\\" } ], \\u4ECE\\u91CC\\u9762\\u53EF\\u4EE5\\u51FA\\u8FD9\\u662F\\u4E00\\u4E2A bind mount,\\u5E76\\u4E14\\u662F\\u53EA\\u8BFB\\u6302\\u8F7D\\u3002\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://blog.csdn.net/wangzan18/article/details/85219442\"\n  }, \"Docker \\u6301\\u4E45\\u5B58\\u50A8\\u4ECB\\u7ECD(\\u5341\\u4E09)\"))), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"$ docker pull mysql:latest\\n$ docker images\\n\")), mdx(\"p\", null, \"172.17.0.1\\ndocker run -d --name kafka -p 9092:9092 -e KAFKA_BROKER_ID=0 -e KAFKA_ZOOKEEPER_CONNECT=docker.for.mac.host.internal:2181/kafka -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://docker.for.mac.host.internal:9092 -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 wurstmeister/kafka\"), mdx(\"p\", null, \"docker run -d --name kafka -p 9092:9092 -e KAFKA_BROKER_ID=0 -e KAFKA_ZOOKEEPER_CONNECT=172.17.0.1:2181/kafka -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://172.17.0.1:9092 -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 wurstmeister/kafka\"), mdx(\"p\", null, \"kafka \\u542F\\u52A8\\u4E0D\\u4E86 \\u5185\\u5B58\\u4E0D\\u591F\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"\\nExcluding KAFKA_HOME from broker config\\n[Configuring] 'port' in '/opt/kafka/config/server.properties'\\n[Configuring] 'advertised.listeners' in '/opt/kafka/config/server.properties'\\n[Configuring] 'broker.id' in '/opt/kafka/config/server.properties'\\nExcluding KAFKA_VERSION from broker config\\n[Configuring] 'listeners' in '/opt/kafka/config/server.properties'\\n[Configuring] 'zookeeper.connect' in '/opt/kafka/config/server.properties'\\n[Configuring] 'log.dirs' in '/opt/kafka/config/server.properties'\\n#\\n# There is insufficient memory for the Java Runtime Environment to continue.\\n# Native memory allocation (mmap) failed to map 1073741824 bytes for committing reserved memory.\\nOpenJDK 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c0000000, 1073741824, 0) failed; error='Out of memory' (errno=12)\\n# An error report file with more information is saved as:\\n# //hs_err_pid1.log\\n\\n\")), mdx(\"h2\", null, \"nat \\u534F\\u8BAE\"), mdx(\"p\", null, \"NAT\\u8F6C\\u6362\\u662F\\u600E\\u4E48\\u5DE5\\u4F5C\\u7684\\uFF1F - \\u7F51\\u6613\\u4E91\\u4FE1\\u7684\\u56DE\\u7B54 - \\u77E5\\u4E4E\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.zhihu.com/question/31332694/answer/470426521\"\n  }, \"https://www.zhihu.com/question/31332694/answer/470426521\")), mdx(\"h2\", null, \"docker gitea\"), mdx(\"p\", null, \"docker run -d -p 3000:3000  -p 3322:22 -v gitea-data:/data/gitea --name gitea gitea/gitea   \"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://stackoverflow.com/questions/64416940/docker-every-command-results-in-a-fatal-error-runtime-out-of-memory\"\n  }, \"https://stackoverflow.com/questions/64416940/docker-every-command-results-in-a-fatal-error-runtime-out-of-memory\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.cnblogs.com/atuotuo/p/13549012.html\"\n  }, \"https://www.cnblogs.com/atuotuo/p/13549012.html\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://blog.csdn.net/u010117864/article/details/104952104\"\n  }, \"https://blog.csdn.net/u010117864/article/details/104952104\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"root@aligz01:~# free -m\\n              total        used        free      shared  buff/cache   available\\nMem:            923         761          63           5          99          41\\nSwap:             0           0           0\\nroot@aligz01:~#\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"root@aligz01:~# cd /usr/\\nroot@aligz01:/usr# mkdir swap\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"root@aligz01:/usr/swap# dd if=/dev/zero of=swapfile bs=1M count=2048\\n2048+0 records in\\n2048+0 records out\\n2147483648 bytes (2.1 GB, 2.0 GiB) copied, 30.4012 s, 70.6 MB/s\\nroot@aligz01:/usr/swap# mkswap swapfile\\nmkswap: swapfile: insecure permissions 0644, 0600 suggested.\\nSetting up swapspace version 1, size = 2 GiB (2147479552 bytes)\\nno label, UUID=08dbc4e3-24b5-4377-a7f0-0b8fc088d93a\\nroot@aligz01:/usr/swap# swapon swapfile\\nswapon: /usr/swap/swapfile: insecure permissions 0644, 0600 suggested.\\n\\n$ \\\"/usr/swap/swapfile swap swap defaults 0 0\\\" >> /etc/fstab\\n\")), mdx(\"p\", null, \"\\u5176\\u4E2D\\uFF0Cif\\u8868\\u793Ainput_file\\u8F93\\u5165\\u6587\\u4EF6\\uFF0Cof\\u8868\\u793Aoutput_file\\u8F93\\u51FA\\u6587\\u4EF6\\uFF0Cbs\\u8868\\u793Ablock_size\\u5757\\u5927\\u5C0F\\uFF0Ccount\\u8868\\u793A\\u8BA1\\u6570\\u3002\\u8FD9\\u91CC\\uFF0C\\u6211\\u91C7\\u7528\\u4E86\\u6570\\u636E\\u5757\\u5927\\u5C0F\\u4E3A1M\\uFF0C\\u6570\\u636E\\u5757\\u6570\\u76EE\\u4E3A2048\\uFF0C\\u8FD9\\u6837\\u5206\\u914D\\u7684\\u7A7A\\u95F4\\u5C31\\u662F2G\\u5927\\u5C0F\\u3002\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://www.lining0806.com/linux%E4%B8%8B%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/\"\n  }, \"http://www.lining0806.com/linux%E4%B8%8B%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/\")), mdx(\"h2\", null, \"tty\"), mdx(\"p\", null, \"\\u5F3A\\u63A8 \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://www.linusakesson.net/programming/tty/index.php\"\n  }, \"The TTY demystified\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"what is tty\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"what is control terminal\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"what is terminal\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"what is shell\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"what is /dev/tty\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"what is stdin and stdout\"), mdx(\"li\", {\n    parentName: \"ul\"\n  })), mdx(\"p\", null, \"\\u5728 Unix \\u4E2D \\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tty\"), \" \\u662F\\u4E00\\u4E2A\\u547D\\u4EE4\\uFF0C\\u7528\\u6765\\u8F93\\u51FA\\u7EC8\\u7AEF\\u8FDE\\u63A5\\u6807\\u51C6\\u8F93\\u5165\\u7684\\u6587\\u4EF6\\u540D\\u3002\"), mdx(\"p\", null, \"tty \\u662F TeleTYpewriter \\u7684\\u7F29\\u5199\\uFF0CTeleTYpewriter \\u7684\\u4E2D\\u6587\\u610F\\u601D\\u662F\\u7535\\u4F20\\u6253\\u5B57\\u7535\\u62A5\\u673A\\uFF0C\\u8FD9\\u662F\\u4E00\\u79CD\\u7528\\u6765\\u53D1\\u9001\\u952E\\u76D8\\u8F93\\u5165\\u4FE1\\u606F\\u5230\\u8FDC\\u7AEF\\u7684\\u8BBE\\u5907\\uFF0C\\u5B83\\u5728 20 \\u4E16\\u7EAA\\u4E2D\\u53F6\\u88AB\\u5E7F\\u6CDB\\u4F7F\\u7528\\u3002\\u7535\\u4F20\\u6253\\u5B57\\u7535\\u62A5\\u673A\\u6709\\u4E00\\u4E2A\\u7528\\u4E8E\\u8F93\\u5165\\u7684\\u952E\\u76D8\\u3001\\u4E00\\u4E2A\\u7528\\u6765\\u67E5\\u770B\\u81EA\\u5DF1\\u8F93\\u5165\\u5185\\u5BB9\\u7684\\u672C\\u5730\\u7684\\u6253\\u5370\\u673A\\u3001\\u4E00\\u4E2A\\u53D1\\u5C04\\u5668\\uFF0C\\u6D88\\u606F\\u53EF\\u4EE5\\u901A\\u8FC7\\u7535\\u7EBF\\u6216\\u65E0\\u7EBF\\u7535\\u53D1\\u9001\\uFF0C\"), mdx(\"p\", null, \"tty \\u547D\\u4EE4\\u901A\\u5E38\\u7528\\u6765\\u68C0\\u6D4B\\u5F53\\u524D\\u7684\\u8F93\\u51FA\\u5A92\\u4ECB\\u662F\\u5426\\u4E3A\\u4E00\\u4E2A\\u7EC8\\u7AEF\\uFF0C\\u82E5\\u5F53\\u524D\\u8F93\\u51FA\\u5A92\\u4ECB\\u4E3A\\u7EC8\\u7AEF\\uFF0C\\u8BE5\\u547D\\u4EE4\\u4F1A\\u8F93\\u51FA\\u5F53\\u524D\\u7EC8\\u7AEF\\u6807\\u51C6\\u8F93\\u5165\\u7684\\u6587\\u4EF6\\u540D\\uFF0C\\u82E5\\u4E0D\\u5B58\\u5728\\u8BE5\\u6807\\u51C6\\u8F93\\u5165\\u6587\\u4EF6\\uFF0C\\u5219\\u8BF4\\u660E\\u5F53\\u524D\\u8F93\\u51FA\\u5A92\\u4ECB\\u5E76\\u975E\\u662F\\u4E00\\u4E2A\\u7EC8\\u7AEF\\uFF08\\u4F8B\\u5982\\u4F7F\\u7528\\u7BA1\\u9053\\u7EC4\\u5408\\u4E86\\u547D\\u4EE4\\u7684\\u60C5\\u51B5 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"echo | tty | cat\"), \" \\uFF09\\uFF0C\\u6267\\u884C tty \\u547D\\u4EE4\\u5C06\\u8F93\\u51FA\\u4E00\\u4E2A \\u201Cnot a tty\\u201D \\u5230\\u6807\\u51C6\\u8F93\\u51FA\\u5E76\\u4E14\\u4EE5\\u72B6\\u6001 1 \\u9000\\u51FA\\u6765\\u8868\\u793A\\u8F93\\u51FA\\u5A92\\u4ECB\\u5E76\\u975E\\u7EC8\\u7AEF\\u3002\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://www.linusakesson.net/programming/tty/index.php\"\n  }, \"http://www.linusakesson.net/programming/tty/index.php\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://en.wikipedia.org/wiki/Tty_(unix)\"\n  }, \"https://en.wikipedia.org/wiki/Tty_(unix)\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://linux.die.net/man/4/tty\"\n  }, \"https://linux.die.net/man/4/tty\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://simple.wikipedia.org/wiki/Teletypewriter\"\n  }, \"https://simple.wikipedia.org/wiki/Teletypewriter\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://stackoverflow.com/questions/8514735/what-is-special-about-dev-tty\"\n  }, \"https://stackoverflow.com/questions/8514735/what-is-special-about-dev-tty\"))), mdx(\"p\", null, \"ubuntu 18.04 \\u6DFB\\u52A0 sudo \\u6743\\u9650\"), mdx(\"p\", null, \"ubuntu\\u91CC\\u9762\\u6CA1\\u6709wheel\\u7EC4\\uFF0C\\u53D6\\u800C\\u4EE3\\u4E4B\\u7684\\u662Fsudo\\uFF0C\\u6DFB\\u52A0\\u5230sudo\\u7EC4\\u5373\\u53EF\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"usermod -a -G sudo jabin\\n\")), mdx(\"p\", null, \"sudo docker run -d -p 64738:64738 -p 64738:64738/udp \\\\\\n-v /opt/docker/mnt/murmur/data:/data \\\\\\n-v /opt/docker/mnt/murmur/config/murmur.ini:/etc/murmur.ini \\\\\\n--name=murmur \\\\\\nmattikus/murmur\"), mdx(\"p\", null, \"docker run --name mysql5_6 \\\\\\n-v /opt/docker/mnt/mysql5_6/conf.d:/etc/mysql/conf.d \\\\\\n-v /opt/docker/mnt/mysql5_6/data:/var/lib/mysql \\\\\\n-p 3306:3306 \\\\\\n-e MYSQL_ROOT_PASSWORD=abc123 \\\\\\n-d mysql:5.6.50\"), mdx(\"p\", null, \"sudo docker pull redis:latest\"), mdx(\"p\", null, \"sudo docker run -itd \\\\\\n--name redis \\\\\\n-p 6379:6379 \\\\\\n-v /opt/docker/mnt/redis/data:/data \\\\\\nredis\"), mdx(\"p\", null, \"sudo docker run -itd \\\\\\n--name mongo \\\\\\n-v /opt/docker/mnt/mongo/data:/data \\\\\\n-p 27017:27017 \\\\\\n-e MONGO_INITDB_ROOT_USERNAME=root \\\\\\n-e MONGO_INITDB_ROOT_PASSWORD=abc123 \\\\\\nmongo \\\\\\n--auth\"), mdx(\"p\", null, \"create database code_sharing charset utf8mb4 collate utf8mb4_unicode_ci\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"categories":["draft"],"date":"2021-01-15 13:24","draft":true,"tags":[],"title":"草稿"}}},"pageContext":{"id":"d35968ce-2e75-57b0-941b-78ae6f680130"}},
    "staticQueryHashes": []}